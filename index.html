<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Scrabble Assistant from nexus V</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #1a1a2e;
            background-image: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            display: flex;
            justify-content: center;
            align-items: flex-start;
            min-height: 100vh;
            padding: 20px;
            box-sizing: border-box;
            flex-wrap: wrap;
            gap: 20px;
            color: #e0e0e0;
        }
        input:disabled, button:disabled {
            cursor: not-allowed;
            background-color: #333;
            opacity: 0.7;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        .animate-spin-custom {
            animation: spin 1s linear infinite;
        }

        #scrabble-board {
            display: grid;
            /* Le premier 'auto' est pour la colonne des numéros, les 15 '1fr' pour les cellules du plateau */
            grid-template-columns: auto repeat(15, 1fr);
            /* Le premier 'auto' est pour la ligne des lettres, les 15 '1fr' pour les cellules du plateau */
            grid-template-rows: auto repeat(15, 1fr);
            width: clamp(300px, 95vw, 600px); /* Permet au plateau de s'adapter à la largeur de l'écran */
            height: clamp(300px, 95vw, 600px);
            border: 2px solid rgba(100, 100, 255, 0.5);
            background-color: rgba(0, 0, 0, 0.3);
            box-shadow: 0 0 15px rgba(100, 100, 255, 0.4), 0 0 30px rgba(100, 100, 255, 0.2);
            border-radius: 8px;
            overflow: hidden;
        }
        /* Les cellules de l'en-tête et du plateau s'adapteront maintenant grâce aux 'auto' et '1fr' */
        .board-cell, .header-cell {
            display: flex;
            justify-content: center;
            align-items: center;
            font-weight: bold;
            color: #bbb;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-sizing: border-box;
            user-select: none;
            transition: background-color 0.3s ease;
            min-width: 0; /* Permet aux cellules de se réduire */
            min-height: 0; /* Permet aux cellules de se réduire */
        }
        .header-cell {
            background-color: #2a2a4a;
            color: #e0e0e0;
            font-size: 0.8rem;
        }
        .header-cell:first-child {
            background-color: #1f1f3f;
        }
        .board-cell {
            font-size: 0.75rem;
        }

        .board-cell input {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            padding: 0;
            margin: 0;
            border: none;
            text-align: center;
            font-size: 1.2rem;
            font-weight: bold;
            color: #f0f0f0;
            background: transparent;
            text-transform: uppercase;
            outline: none;
            cursor: pointer;
        }

        .normal { background-color: #333; }
        .dl { background-color: #4a69bd; }
        .tl { background-color: #294896; }
        .dw { background-color: #d63031; }
        .tw { background-color: #b31e1e; }
        .star { background-color: #feca57; }

        .dl::before { content: 'LD'; color: #fff; opacity: 0.7; }
        .tl::before { content: 'LT'; color: #fff; opacity: 0.7; }
        .dw::before { content: 'MD'; color: #fff; opacity: 0.7; }
        .tw::before { content: 'MT'; color: #fff; opacity: 0.7; }
        .star::before { content: '★'; color: #333; font-size: 1.5rem; }

        .board-cell.has-letter::before {
            content: none !important;
        }
        .board-cell.has-letter input {
            font-size: 1.8rem;
        }

        .highlight-best-word {
            background-color: #2ecc71 !important;
            color: white !important;
            box-shadow: inset 0 0 0 2px #27ae60;
        }
        .highlight-best-word input {
            color: white !important;
        }

        #results ul {
            columns: 2;
            -webkit-columns: 2;
            -moz-columns: 2;
            column-gap: 20px;
        }
        #results li {
            margin-bottom: 5px;
        }
        @media (max-width: 640px) {
            #results ul {
                columns: 1;
            }
        }

        /* Styles pour le logo textuel "Nexus V" */
        .nexus-v-logo {
            font-size: 2.5rem; /* Ajuste la taille pour qu'il soit bien visible */
            font-weight: 900; /* Plus gras pour l'impact */
            background: linear-gradient(90deg, #6a82fb, #fc5c7d); /* Dégradé bleu-rose */
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 0 0 10px rgba(106, 130, 251, 0.7), 0 0 20px rgba(252, 92, 125, 0.5); /* Lueur */
            display: inline-block; /* Nécessaire pour le text-shadow et le background-clip */
            margin-right: 1rem; /* Espace entre le logo et le titre */
        }
    </style>
</head>
<body class="selection:bg-purple-400 selection:text-gray-900">
    <div class="bg-gradient-to-br from-gray-800 to-gray-900 p-8 rounded-2xl shadow-2xl max-w-lg w-full transform transition-all duration-300 hover:scale-[1.01] border border-purple-600 relative overflow-hidden">
        <div class="absolute inset-0 bg-gradient-to-br from-purple-500 to-pink-500 opacity-20 blur-xl z-0 animate-pulse"></div>
        <div class="relative z-10">
            <h1 class="text-4xl font-bold text-center text-white mb-6 flex items-center justify-center">
                <span class="nexus-v-logo">Nexus V</span>
                Scrabble Assistant
            </h1>

            <p class="text-center text-gray-300 mb-8 text-lg">
                Entre les lettres que tu as en main (sans accents, '*' pour joker), puis place des lettres sur le plateau. Je te suggérerai les meilleurs placements !
            </p>

            <div class="mb-4">
                <label for="lettersInput" class="block text-gray-200 text-sm font-semibold mb-2">Tes lettres :</label>
                <input type="text" id="lettersInput" placeholder="Ex: a*cdefg"
                       class="w-full px-4 py-3 border border-purple-500 bg-gray-700 text-white rounded-xl focus:outline-none focus:ring-2 focus:ring-pink-500 transition duration-200 text-lg uppercase tracking-wider placeholder-gray-400"
                       oninput="this.value = this.value.toLowerCase().replace(/[^a-z*]/g, '');" />
            </div>

            <button id="findWordsBtn"
                    class="w-full bg-gradient-to-r from-purple-600 to-pink-600 text-white font-bold py-3 px-4 rounded-xl shadow-lg hover:from-purple-700 hover:to-pink-700 transition duration-300 transform hover:-translate-y-1 active:scale-95 flex items-center justify-center">
                <svg class="w-6 h-6 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                </svg>
                Trouver les meilleurs placements
            </button>

            <div class="mt-8">
                <h2 class="text-2xl font-bold text-white mb-4 text-center">Meilleurs placements possibles :</h2>
                <div id="results" class="bg-gray-700 p-6 rounded-xl border border-purple-500 min-h-[150px] overflow-auto max-h-[400px] shadow-inner text-gray-200 leading-relaxed text-lg">
                    <p class="text-center text-gray-400">Les suggestions de placement et de score apparaîtront ici.</p>
                </div>
                <div id="loading" class="hidden text-center mt-4 text-pink-400 font-semibold animate-spin-custom">
                    <svg class="inline w-6 h-6 mr-2 text-pink-500 animate-spin-custom" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004 16.087v-2.383a1 1 0 011-.997h13.27a1 1 0 011 .997v2.383A8.001 8.001 0 0020.938 12M3.197 12A8.001 8.001 0 0120 7.913v2.383a1 1 0 01-1 .997H5.73a1 1 0 01-1-.997V7.913A8.001 8.001 0 013.197 12z"></path>
                    </svg>
                    <span id="loading-message">Recherche des placements...</span>
                </div>
            </div>

            <div id="errorBox" class="hidden mt-4 p-3 bg-red-800 border border-red-600 text-red-200 rounded-xl">
                <p class="font-semibold">Erreur :</p>
                <p id="errorMessage"></p>
            </div>
        </div>
    </div>

    <div class="bg-gradient-to-br from-gray-800 to-gray-900 p-6 rounded-2xl shadow-2xl transform transition-all duration-300 hover:scale-[1.01] border border-purple-600 relative overflow-hidden">
        <div class="absolute inset-0 bg-gradient-to-br from-blue-500 to-green-500 opacity-20 blur-xl z-0 animate-pulse-slow"></div>
        <div class="relative z-10">
            <h2 class="text-2xl font-bold text-white mb-4 text-center">Plateau de Scrabble</h2>
            <div id="scrabble-board">
            </div>
            <div class="flex flex-col sm:flex-row gap-4 mt-4">
                <button id="saveBoardBtn"
                        class="w-full bg-gradient-to-r from-blue-600 to-indigo-600 text-white font-bold py-2 px-4 rounded-xl shadow-lg hover:from-blue-700 hover:to-indigo-700 transition duration-300 transform hover:-translate-y-1 active:scale-95 flex items-center justify-center">
                    <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"></path>
                    </svg>
                    Sauvegarder le plateau
                </button>
                <input type="file" id="loadBoardInput" accept=".json" class="hidden" />
                <button id="loadBoardBtn"
                        class="w-full bg-gradient-to-r from-green-600 to-teal-600 text-white font-bold py-2 px-4 rounded-xl shadow-lg hover:from-green-700 hover:to-teal-700 transition duration-300 transform hover:-translate-y-1 active:scale-95 flex items-center justify-center">
                    <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"></path>
                    </svg>
                    Charger le plateau
                </button>
            </div>
            <button id="clearBoardBtn"
                    class="mt-4 w-full bg-gradient-to-r from-red-600 to-orange-600 text-white font-bold py-2 px-4 rounded-xl shadow-lg hover:from-red-700 hover:to-orange-700 transition duration-300 transform hover:-translate-y-1 active:scale-95 flex items-center justify-center">
                <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path>
                </svg>
                Effacer le plateau
            </button>
        </div>
    </div>

    <!-- Custom Save Modal -->
    <div id="saveModal" class="fixed inset-0 bg-gray-900 bg-opacity-75 flex items-center justify-center z-50 hidden">
        <div class="bg-gray-800 p-8 rounded-2xl shadow-2xl w-96 border border-purple-500">
            <h3 class="text-2xl font-bold text-white mb-4 text-center">Nommer la sauvegarde</h3>
            <input type="text" id="saveFilenameInput" placeholder="Ex: mon_plateau_de_jeu"
                   class="w-full px-4 py-3 border border-gray-600 bg-gray-700 text-white rounded-xl focus:outline-none focus:ring-2 focus:ring-pink-500 mb-6 text-lg" />
            <div class="flex justify-end gap-4">
                <button id="cancelSaveBtn" class="bg-gray-600 text-white font-bold py-2 px-4 rounded-xl shadow-md hover:bg-gray-700 transition duration-200 transform hover:-translate-y-0.5 active:scale-95">Annuler</button>
                <button id="confirmSaveBtn" class="bg-gradient-to-r from-purple-600 to-pink-600 text-white font-bold py-2 px-4 rounded-xl shadow-md hover:from-purple-700 hover:to-pink-700 transition duration-200 transform hover:-translate-y-0.5 active:scale-95">Sauvegarder</button>
            </div>
        </div>
    </div>

    <script>
        const lettersInput = document.getElementById('lettersInput');
        const findWordsBtn = document.getElementById('findWordsBtn');
        const resultsDiv = document.getElementById('results');
        const loadingDiv = document.getElementById('loading');
        const loadingMessageSpan = document.getElementById('loading-message');
        const errorBox = document.getElementById('errorBox');
        const errorMessage = document.getElementById('errorMessage');
        const scrabbleBoardDiv = document.getElementById('scrabble-board');
        const clearBoardBtn = document.getElementById('clearBoardBtn');
        const saveBoardBtn = document.getElementById('saveBoardBtn');
        const loadBoardBtn = document.getElementById('loadBoardBtn');
        const loadBoardInput = document.getElementById('loadBoardInput');

        // New DOM elements for the modal
        const saveModal = document.getElementById('saveModal');
        const saveFilenameInput = document.getElementById('saveFilenameInput');
        const cancelSaveBtn = document.getElementById('cancelSaveBtn');
        const confirmSaveBtn = document.getElementById('confirmSaveBtn');


        // Dictionnaire de mots français (enrichi)
        const frenchDictionary = [
            "a", "aie", "ail", "air", "ais", "ait", "an", "ans", "apres", "arbre", "arc", "as", "assez", "au", "aucun", "avec", "avoir", "bas", "beau", "belle", "bien", "blanc", "bleu", "bois", "bon", "bord", "bouche", "bout", "bras", "bref", "brun", "but", "ca", "car", "carte", "cas", "ce", "cela", "celle", "cent", "chaque", "chat", "chemin", "cher", "chez", "choix", "chose", "ciel", "cinq", "clair", "classe", "coeur", "coin", "comme", "compte", "contre", "corps", "cote", "coup", "cour", "court", "creer", "croire", "dans", "de", "debout", "dedans", "deja", "demain", "depuis", "derriere", "des", "deux", "devant", "devenir", "devoir", "dire", "doit", "donc", "donner", "dont", "dos", "droit", "du", "durer", "eau", "elle", "elles", "en", "encore", "entre", "entrer", "envoyer", "est", "et", "etre", "eu", "euh", "eux", "face", "faire", "fais", "fait", "falloir", "famille", "fenetre", "fermer", "feu", "fille", "fin", "fois", "fond", "force", "foret", "former", "fort", "frapper", "frere", "froid", "front", "gauche", "gens", "grand", "guerre", "gout", "gros", "guerir", "haut", "hier", "homme", "ici", "idee", "il", "ils", "impossible", "interet", "jamais", "jambe", "jardin", "je", "jeu", "jeune", "joie", "joli", "jouer", "jour", "jusque", "juste", "la", "laisser", "langue", "le", "leger", "lent", "leur", "leve", "libre", "ligne", "lire", "lit", "long", "loin", "lumiere", "lune", "lui", "machine", "main", "mais", "maison", "mal", "manger", "marcher", "mari", "matin", "mauvais", "meilleur", "meme", "mer", "mere", "metre", "mettre", "midi", "mieux", "milieu", "mille", "mince", "moins", "mon", "monde", "montagne", "montrer", "mort", "mot", "moyen", "mur", "naitre", "nation", "nature", "ne", "nez", "ni", "noir", "nom", "non", "nord", "notre", "nous", "nouveau", "nuit", "nu", "objet", "oeil", "oiseau", "ombre", "on", "ont", "open", "or", "orange", "ordre", "oreille", "ouvrir", "page", "pain", "paix", "papa", "par", "pareil", "parler", "part", "partir", "pas", "passer", "pauvre", "payer", "pays", "peau", "peine", "pendant", "penser", "petit", "peur", "pied", "pierre", "place", "plaisir", "plan", "plein", "pleurer", "plus", "plusieurs", "point", "police", "porte", "poser", "possible", "pour", "pourquoi", "pourtant", "premier", "prendre", "pres", "present", "presque", "pret", "preuve", "prevoir", "prier", "prince", "probleme", "propre", "puis", "qualite", "quand", "quant", "quatre", "que", "quel", "quelle", "quelque", "qui", "quoi", "racine", "raison", "rapide", "rare", "recevoir", "refuser", "regard", "regarder", "rein", "rentrer", "repondre", "repos", "rester", "retour", "revenir", "reve", "rien", "rire", "riviere", "roi", "rond", "rose", "route", "rouge", "sable", "salle", "sang", "sans", "savoir", "se", "sec", "sembler", "sens", "sentir", "sept", "serieux", "servir", "seul", "si", "signe", "silence", "simple", "six", "soeur", "soin", "soir", "sol", "soleil", "sombre", "son", "songer", "sonner", "sorte", "sortie", "souvenir", "speciale", "sport", "style", "suite", "sur", "table", "taille", "tant", "tard", "temps", "tenir", "terre", "tete", "texte", "tiens", "tirer", "titre", "toi", "tomber", "ton", "tous", "tout", "toute", "train", "travailler", "travers", "tres", "trois", "trop", "trouver", "un", "une", "univers", "usage", "utile", "vacances", "vague", "valeur", "vent", "venir", "vendre", "vert", "verre", "vers", "vie", "vieux", "ville", "vin", "visage", "vite", "vivre", "voici", "voila", "voir", "voisin", "voix", "vouloir", "voyage", "vrai", "vue", "wagon", "yeux", "zero", "zigzag", "zone", "zozoter", "zoulou",
            "abandonner", "abaisser", "abandon", "abord", "aborder", "aboutir", "absente", "absence", "absolue", "absorber", "abus", "acceder", "accelerer", "accent", "accepte", "acces", "accident", "accueillir", "acheter", "achever", "acide", "acquerir", "activer", "acteur", "action", "activite", "adapte", "adapter", "addition", "adieu", "adjoint", "adjointe", "administrer", "admirable", "adresser", "adulte", "aerien", "aeroport", "affect", "affection", "affiche", "affirmer", "affoler", "agrement", "agresser", "agreable", "agriculture", "agricole", "aide", "aider", "aiguille", "aile", "ailleurs", "aimable", "ainee", "aine", "air", "alarme", "album", "alcool", "alerter", "alignement", "aliment", "alimentation", "allier", "allonger", "allure", "alternative", "amande", "amateur", "amer", "americain", "amie", "amour", "amuser", "analyse", "analyser", "ancien", "ancienne", "ancre", "anecdote", "angle", "animal", "animation", "anime", "animer", "anniversaire", "annonce", "annoncer", "annuaire", "anonyme", "anormal", "anxieux", "apaiser", "apercevoir", "aplanir", "apostrophe", "apparence", "apparaitre", "appareil", "apparent", "appartenir", "appel", "appeler", "appetit", "applaudir", "application", "appliquer", "appoint", "apporter", "apprecier", "apprehension", "apprendre", "apprenti", "approche", "approcher", "approprier", "approuver", "appui", "appuyer", "aptitude", "aquatique", "arabe", "arbre", "arc", "architecte", "architecture", "archive", "ardent", "ardeur", "argent", "argument", "armer", "armement", "armoire", "arome", "arret", "arriere", "arriere-plan", "arriver", "arrondi", "arrondir", "art", "article", "articuler", "artificiel", "artisan", "artiste", "ascenseur", "aspect", "aspirateur", "aspirer", "assemblage", "assembler", "asseoir", "assertion", "assurer", "assurance", "asticot", "astronome", "astronomie", "atelier", "atmosphere", "attache", "attacher", "attaque", "attaquer", "atteindre", "attendre", "attentif", "attention", "attirer", "attitude", "attraper", "aubergine", "aube", "audace", "audience", "audio", "auditeur", "audition", "augmenter", "aumonier", "auteur", "autorite", "autorisation", "autoriser", "autour", "autre", "avantage", "avancer", "avant-garde", "avare", "avenue", "avenir", "aventure", "avertir", "avion", "avis", "avocat", "avouer", "axe", "axer", "babiller", "bachelier", "bagage", "bagarre", "baguette", "bain", "baisser", "baiser", "balancer", "balai", "balayer", "balcon", "balle", "ballet", "ballon", "banal", "bande", "bandit", "bannir", "banque", "barbe", "barque", "barriere", "bas", "base", "baser", "basilic", "bassin", "batard", "bataille", "bateau", "batiment", "batir", "battement", "battre", "bavarder", "beau", "beaute", "bebe", "beige", "bel", "belge", "belle", "benefice", "beneficier", "benevole", "berceau", "berger", "besoin", "bete", "betise", "bibliotheque", "biche", "biceps", "bien", "bientot", "bienveillance", "biere", "bijou", "bilan", "billet", "biographie", "biologique", "biologie", "biscuit", "blanc", "blanche", "blesser", "bleu", "bleue", "bloc", "blond", "blouse", "boire", "bois", "boiser", "boite", "bombarder", "bon", "bonbon", "bondir", "bonheur", "bonjour", "bonnet", "bord", "bordure", "borne", "bosse", "botte", "bouche", "boucher", "bougie", "bouillir", "boulanger", "boule", "bouquet", "bourse", "bout", "bouteille", "boutique", "bouton", "branche", "bras", "bref", "breton", "brique", "brillant", "briller", "briser", "brosse", "brouillard", "bruit", "brutal", "brute", "buche", "budget", "buffet", "buisson", "bulle", "bureau", "but", "cabane", "cabinet", "cable", "cacao", "cache", "cacher", "cafe", "cage", "cahier", "caisse", "calme", "calmer", "camera", "camion", "campagne", "canal", "canard", "candidat", "canette", "capable", "capacite", "capital", "capitaine", "captiver", "capturer", "caractere", "caracteristique", "caravane", "caresser", "carette", "cargo", "carrefour", "carriere", "carre", "carte", "cas", "caser", "casque", "casser", "catastrophe", "categorie", "cause", "causer", "cavalier", "caverne", "ceder", "ceinture", "celebrer", "celebre", "celeste", "celle", "celui", "cendre", "censure", "cent", "centime", "central", "centre", "cependant", "cerceau", "ceremonie", "cerf", "certain", "certainement", "certificat", "ces", "cesser", "chacun", "chaine", "chaise", "chaleur", "chambre", "champ", "champagne", "champion", "chance", "changer", "chant", "chanter", "chaos", "chaque", "charger", "charite", "charme", "chasse", "chasser", "chat", "chateau", "chaud", "chauffer", "chauffeur", "chef", "chemin", "chemise", "cher", "chercher", "cheval", "cheveu", "cheveux", "chez", "chic", "chiffre", "chignon", "chinois", "choisir", "choix", "choc", "chocolat", "chomage", "chose", "chouchou", "chouette", "chuchoter", "chute", "ciel", "cigare", "ciment", "cime", "cinq", "cinema", "cintre", "circonstance", "cirque", "ciseaux", "citer", "cite", "citoyen", "citron", "civil", "civilisation", "clair", "claire", "classe", "classer", "clef", "client", "climat", "clinique", "cloche", "clore", "clos", "club", "coach", "coche", "cocher", "code", "coeur", "coffre", "cognac", "coiffer", "coinc", "coin", "colere", "collab", "collaboration", "colle", "coller", "collection", "collier", "colline", "colonne", "combat", "combattre", "combien", "combiner", "commander", "comme", "commencer", "comment", "commentaire", "commercial", "commerce", "commun", "communication", "communique", "compact", "compagnie", "comparaison", "comparer", "compatibilite", "compatible", "compensation", "competence", "competent", "completer", "complet", "complexe", "compliquer", "comporter", "composer", "composition", "comprendre", "comptable", "compte", "compter", "conceder", "concentrer", "conception", "concerner", "concert", "conclure", "conclusion", "concours", "concret", "condamner", "condition", "conduire", "conduite", "confiance", "confier", "configuration", "confirmer", "confondre", "confort", "confronter", "congel", "congelateur", "congelation", "congedier", "connaisseur", "connaissance", "connaitre", "connecter", "connexion", "conquerir", "conquete", "conscience", "conseil", "conseiller", "consequence", "conserver", "considerable", "considerer", "consister", "consoler", "consolider", "constant", "constater", "constituer", "constitution", "construire", "construction", "contact", "contacter", "contenir", "content", "contentement", "conter", "contester", "contexte", "continu", "continuer", "contraire", "contrat", "contre", "contribuer", "controle", "controler", "controvers", "convenable", "convenir", "convention", "converger", "conversation", "conversion", "convertir", "convincre", "cooperer", "coordination", "copie", "copier", "corde", "cordial", "corps", "correct", "corriger", "corrompre", "cote", "coton", "couche", "coucher", "coude", "couleur", "couloir", "coup", "couper", "courage", "courant", "courbe", "courir", "couronne", "courrier", "cours", "court", "couteau", "couter", "coutume", "couverture", "couvrir", "craindre", "cran", "cravate", "crayon", "creer", "crepe", "creuser", "creux", "crevette", "cri", "crier", "crime", "crimel", "crise", "cristal", "critere", "critique", "croire", "croiser", "croissance", "croitre", "croustillant", "cruel", "cruche", "cuir", "cuire", "cuisine", "cuisiner", "culotte", "culture", "curieux", "curiosite", "cycle", "cylindre", "danger", "dangereux", "dans", "danse", "danser", "date", "dater", "davantage", "debat", "debattre", "debile", "debout", "decaler", "decapiter", "decharge", "decharger", "dechiffrer", "dechirer", "decider", "decimal", "decision", "declaration", "declarer", "declin", "decoder", "decomposer", "decons", "deconseiller", "decor", "decorer", "decouper", "decouverte", "decouvrir", "decrocher", "dedans", "dedier", "deduire", "defense", "defendre", "defensif", "defer", "defiance", "defier", "deficit", "definir", "definitif", "definition", "degager", "degat", "degourdi", "deguster", "deja", "dejeuner", "delai", "delicat", "delicate", "delicieux", "delivrance", "delivrer", "demain", "demander", "demarche", "demeurer", "demi", "demission", "democratique", "democratie", "demolir", "demonstration", "demontrer", "dent", "dependance", "dependre", "depenser", "deplacer", "deplaire", "deposer", "depot", "depuis", "deranger", "derniere", "dernier", "derriere", "desaccord", "desastre", "descendre", "deserte", "desespoir", "desesperer", "design", "designer", "desir", "desirer", "desobeir", "desordre", "desoler", "dessous", "dessus", "destin", "destination", "destinee", "detacher", "detail", "detecter", "detendre", "detenir", "detention", "determiner", "detester", "detour", "detourner", "detruire", "deuterium", "developpement", "developper", "devin", "deviner", "deviner", "devise", "devoir", "devouement", "devoue", "dextre", "diable", "diagnostic", "dialogue", "diamant", "dicter", "dictionnaire", "dieu", "difference", "different", "difficile", "difficult", "dignite", "digne", "digestion", "dilemme", "dimension", "dimanche", "diminuer", "diner", "diplome", "dire", "direct", "direction", "directeur", "diriger", "disciple", "discipline", "discret", "discours", "discuter", "disparaitre", "disparition", "dispenser", "disperser", "disponible", "dispositif", "disposer", "disposition", "dispute", "disputer", "distance", "distinct", "distinguer", "distribuer", "distribution", "dix", "docteur", "doctrine", "document", "doigt", "dollar", "domaine", "domicile", "dommage", "dominer", "don", "donc", "donner", "dont", "dormir", "dos", "douane", "double", "douce", "douleur", "doute", "douter", "doux", "douzaine", "drame", "drap", "draper", "dresser", "droit", "droite", "drole", "du", "duel", "durable", "durer", "dynamique", "eau", "echelle", "echanger", "echapper", "echarpe", "echecs", "eclaire", "eclairer", "eclat", "eclater", "ecole", "ecologie", "economie", "economique", "economiser", "ecoute", "ecouter", "ecran", "ecrire", "ecriture", "edition", "edifice", "editer", "educatif", "education", "efficace", "efficacite", "effort", "egal", "egalement", "egalite", "eglise", "egoisme", "egoiste", "eh", "elaboration", "elaborer", "elancer", "elargir", "electronique", "elegant", "element", "eleve", "elever", "eligibilite", "eloigner", "elogieux", "eloquent", "email", "emballage", "emballer", "embarquer", "embarras", "embarrasser", "embauche", "embaucher", "embellir", "embleme", "embrasser", "emettre", "emotion", "emotif", "empecher", "empereur", "empire", "emplacement", "employer", "empoisonner", "emporter", "empreinte", "emprisonner", "emprunter", "encadrer", "encens", "enchanter", "enclenchement", "enclos", "encourager", "encre", "encrier", "endormir", "endosser", "endroit", "enduire", "endurance", "enerver", "energie", "enfance", "enfant", "enfer", "enfermer", "enfin", "enfoncer", "engagement", "engager", "engin", "engouement", "engrais", "enlever", "ennemi", "ennui", "ennuyer", "enoncer", "enorme", "enquete", "enseigner", "ensemble", "ensuite", "entendre", "entendu", "entier", "entierement", "entite", "entourer", "entourage", "entrainer", "entree", "entrecouper", "entreprendre", "entreprise", "entrer", "entretenir", "entretien", "entrevoir", "enumerer", "envahir", "enveloppe", "envelopper", "environ", "environnement", "envisager", "envoi", "envoyer", "epargner", "epaule", "epeautre", "epee", "epingle", "epoque", "epouser", "epouse", "eprouver", "epuisement", "epuise", "epuiser", "equilibrer", "equipe", "equipement", "equiper", "equivalence", "equivalent", "eriger", "erreur", "escalier", "escalade", "escapade", "escarpe", "escrime", "espace", "espece", "esperance", "esperer", "esprit", "essayer", "essentiel", "estimer", "estomac", "etablir", "etablissement", "etage", "etalage", "etalon", "etat", "etendard", "etendre", "eternel", "ether", "ethique", "etonnant", "etonner", "etouffer", "etrange", "etroit", "etude", "etudier", "euphorie", "eure", "europeen", "eut", "evacuer", "evaluer", "evasion", "evenement", "evident", "eviter", "exact", "exactement", "exageration", "exagerer", "examen", "examiner", "exaucer", "excedent", "excepter", "exception", "excessif", "exciter", "exclure", "exclusif", "excuser", "exemple", "exercer", "exercice", "exiger", "exigence", "exister", "existence", "expedition", "experience", "experimenter", "expert", "expertise", "expliquer", "exploit", "exploiter", "exploration", "explorer", "explosion", "expose", "exposer", "expression", "exprimer", "exterieur", "externe", "extinction", "extraire", "extraordinaire", "extremite", "face", "facile", "faciliter", "facon", "facteur", "faction", "fade", "faible", "faille", "faim", "fais", "fait", "fameux", "famille", "fenetre", "fermer", "feu", "fille", "fin", "fois", "fond", "force", "foret", "former", "fort", "frapper", "frere", "froid", "front", "gauche", "gens", "grand", "guerre", "gout", "gros", "guerir", "haut", "hier", "homme", "ici", "idee", "il", "ils", "impossible", "interet", "jamais", "jambe", "jardin", "je", "jeu", "jeune", "joie", "joli", "jouer", "jour", "jusque", "juste", "la", "laisser", "langue", "le", "leger", "lent", "leur", "leve", "libre", "ligne", "lire", "lit", "long", "loin", "lumiere", "lune", "lui", "machine", "main", "mais", "maison", "mal", "manger", "marcher", "mari", "matin", "mauvais", "meilleur", "meme", "mer", "mere", "metre", "mettre", "midi", "mieux", "milieu", "mille", "mince", "moins", "mon", "monde", "montagne", "montrer", "mort", "mot", "moyen", "mur", "naitre", "nation", "nature", "ne", "nez", "ni", "noir", "nom", "non", "nord", "notre", "nous", "nouveau", "nuit", "nu", "objet", "oeil", "oiseau", "ombre", "on", "ont", "open", "or", "orange", "ordre", "oreille", "ouvrir", "page", "pain", "paix", "papa", "par", "pareil", "parler", "part", "partir", "pas", "passer", "pauvre", "payer", "pays", "peau", "peine", "pendant", "penser", "petit", "peur", "pied", "pierre", "place", "plaisir", "plan", "plein", "pleurer", "plus", "plusieurs", "point", "police", "porte", "poser", "possible", "pour", "pourquoi", "pourtant", "premier", "prendre", "pres", "present", "presque", "pret", "preuve", "prevoir", "prier", "prince", "probleme", "propre", "puis", "qualite", "quand", "quant", "quatre", "que", "quel", "quelle", "quelque", "qui", "quoi", "racine", "raison", "rapide", "rare", "recevoir", "refuser", "regard", "regarder", "rein", "rentrer", "repondre", "repos", "rester", "retour", "revenir", "reve", "rien", "rire", "riviere", "roi", "rond", "rose", "route", "rouge", "sable", "salle", "sang", "sans", "savoir", "se", "sec", "sembler", "sens", "sentir", "sept", "serieux", "servir", "seul", "si", "signe", "silence", "simple", "six", "soeur", "soin", "soir", "sol", "soleil", "sombre", "son", "songer", "sonner", "sorte", "sortie", "souvenir", "speciale", "sport", "style", "suite", "sur", "table", "taille", "tant", "tard", "temps", "tenir", "terre", "tete", "texte", "tiens", "tirer", "titre", "toi", "tomber", "ton", "tous", "tout", "toute", "train", "travailler", "travers", "tres", "trois", "trop", "trouver", "un", "une", "univers", "usage", "utile", "vacances", "vague", "valeur", "vent", "venir", "vendre", "vert", "verre", "vers", "vie", "vieux", "ville", "vin", "visage", "vite", "vivre", "voici", "voila", "voir", "voisin", "voix", "vouloir", "voyage", "vrai", "vue", "wagon", "yeux", "zero", "zigzag", "zone", "zozoter", "zoulou",
            "abricot", "absinthe", "abstrait", "absurde", "acacia", "acajou", "accordéon", "accroc", "accru", "accueil", "acerbe", "acharné", "acheminement", "achoppement", "acidité", "acompte", "acquiescer", "acrobate", "acronyme", "actionnaire", "actualité", "adage", "adaptabilité", "addict", "adepte", "adhérer", "adhésion", "adjectif", "adjudant", "admirablement", "admission", "adolescence", "adolescent", "adorer", "adoration", "adroit", "adulation", "advenir", "adversaire", "adverse", "aérien", "aéronautique", "affable", "affaiblir", "affaire", "affectation", "affectueux", "affiché", "affliction", "affleurer", "affluence", "affranchir", "agaçant", "agencement", "agile", "agitation", "agonie", "agrafe", "agrandir", "agrément", "agressif", "agressivité", "agronome", "aigre", "aigu", "aigüe", "ailette", "aimant", "ajourner", "ajustement", "alarmer", "alchimie", "alerte", "alexandrin", "algèbre", "algorithme", "aliéner", "aligner", "allégorie", "allègre", "allégresse", "allée", "allons", "allouer", "allumer", "allure", "alphabet", "altérer", "alternatif", "altruisme", "amabilité", "amasser", "ambiance", "ambigu", "ambition", "ambitieux", "ambulance", "âme", "améliorer", "aménagement", "amende", "amener", "amertume", "amical", "amnistie", "amont", "amortir", "ample", "amplification", "amputé", "amulette", "analogie", "anarchique", "anatomie", "ancêtre", "andain", "anéantir", "anémie", "ange", "anglais", "angoisse", "anguleux", "animalier", "annexe", "annihiler", "anniversaire", "annuel", "anodin", "anomalie", "anticiper", "antidote", "antipathie", "antique", "antiquité", "anxiété", "apaisement", "apanage", "apathie", "aperçu", "apogée", "apostasie", "apostrophe", "appartenance", "apparat", "appauvrir", "appeler", "appétissant", "applaudissement", "applicatif", "apporter", "apprêter", "apprivoiser", "approbation", "approfondir", "approprié", "apte", "aptitude", "aquarelle", "aquarium", "aquatique", "arbitrage", "arbitraire", "arcade", "archaïque", "archet", "architectural", "ardemment", "ardoise", "arène", "aristocratie", "arithmétique", "armistice", "armure", "arpenter", "arracher", "arrangement", "arranger", "arrestation", "arrête", "arrière-garde", "artère", "arthrite", "artichaut", "artifice", "artisanat", "ascendant", "ascension", "aseptique", "asphalte", "aspirant", "assainir", "assaisonnement", "assaut", "assemblée", "assentiment", "asservir", "assiette", "assigner", "assistance", "assistant", "associé", "assortiment", "assouplir", "assourdissant", "astral", "astronome", "astucieux", "asymétrie", "atelier", "athéisme", "athlète", "atroce", "attachement", "attelage", "atténuer", "atterrissage", "attirance", "attiser", "attribut", "audacieux", "audible", "auditoire", "augmentation", "aumône", "aussi", "austère", "authentique", "autobus", "autochtone", "autocratie", "autographe", "automatique", "automobile", "autonome", "autopsie", "autoroute", "avalanche", "avancement", "avant-garde", "avantageux", "avarie", "avérer", "aversion", "aveugle", "avidité", "aviser", "avortement", "avouer", "avril", "axiome", "azur", "babiole", "bâcler", "badaud", "badigeonner", "bafouer", "bagarreur", "bagatelle", "bagne", "bague", "bahut", "bail", "bâillonner", "bain-marie", "baissement", "balade", "balafre", "balance", "balbutier", "balise", "balistique", "ballade", "ballast", "ballerine", "ballet", "ballonnement", "balsa", "bambou", "banalité", "bancaire", "banderole", "bandoulière", "banlieue", "banquet", "baptême", "baptiser", "baraque", "barbare", "baromètre", "baroque", "barque", "barricade", "barrière", "baryton", "bascule", "basilique", "bataillon", "batelier", "bâtiment", "bâtir", "batracien", "battement", "baudrier", "bavardage", "bazar", "béatitude", "bécane", "bêcher", "bégayer", "béquille", "bercer", "berlue", "bestial", "bétail", "bévue", "biais", "bidon", "biffer", "bifurcation", "bigarré", "bigot", "bijouterie", "bilatéral", "bilingue", "bille", "bimbeloterie", "binocle", "biographie", "biologie", "bipartisan", "bipède", "birman", "bisaïeul", "biscornu", "bissextile", "bistrot", "bitume", "bivouac", "bizarre", "blafard", "blague", "blanchir", "blason", "blessure", "bleuir", "blinder", "blondir", "bloquer", "blottir", "blouse", "boa", "bobine", "bocage", "bœuf", "bohémien", "boire", "boisé", "bolide", "bombardement", "bonace", "bonheur", "bonifier", "boniment", "bonnet", "bonze", "bordel", "bordure", "boréal", "borner", "bosquet", "bosseler", "botanique", "botte", "boucan", "bouclette", "bouclier", "bouder", "bouffon", "bougie", "bougonner", "bouillonnant", "bouleversement", "boulimie", "bouquin", "bourdon", "bourgade", "bourgeon", "bourgeois", "bourrasque", "bourse", "bousculer", "boussole", "boutique", "boutonnière", "boycott", "braconner", "brancard", "branchement", "brandir", "branle-bas", "braquer", "brasserie", "brave", "bravoure", "brebis", "bretelle", "breuvage", "bricolage", "brigade", "brillantine", "brimer", "briquette", "brise-lames", "brocante", "brochure", "bronze", "brosser", "brouiller", "brouillon", "broussaille", "broyer", "bruire", "brûlant", "brutalité", "bûcheron", "buffle", "bugle", "buisson", "bulb", "bulle", "bulletin", "bureaucratie", "burlesque", "buste", "butin", "cabalistique", "cabaret", "câble", "cabochon", "cabriole", "cacahuète", "cachette", "cachet", "cadavre", "cadence", "cadre", "caduc", "cafard", "cafetière", "caillou", "cajoler", "calamité", "calcaire", "calcul", "caleçon", "calibre", "calme", "calomnie", "calorifère", "camarade", "cambriolage", "came", "caméléon", "camionnette", "campagne", "canapé", "canard", "cancan", "candidature", "canicule", "canne", "canon", "cantine", "cantique", "capacité", "capitulation", "caprice", "capsule", "captivant", "caractériel", "caractériser", "carapace", "caravane", "carbone", "carburant", "carcasse", "cardinal", "caresse", "cargaison", "caricature", "carnage", "carnet", "carpe", "carreau", "cartable", "cartel", "cartilage", "carton", "cascade", "casemate", "caserne", "casier", "casque", "cassette", "castor", "cataclysme", "catalogue", "catapulte", "cataracte", "catégorique", "cathédrale", "catholique", "causalité", "caution", "cavalcade", "cavalerie", "caverne", "cavité", "ceci", "cédille", "célèbre", "célébration", "célérité", "célibataire", "cellule", "celtique", "cémenter", "cendrier", "censurer", "centenaire", "centraliser", "centrifuge", "cercueil", "cérébral", "certainement", "certitude", "cessation", "chagrin", "chaîne", "chaleureux", "chambre", "chamelier", "champlevé", "chanceler", "chandelle", "changeant", "chansonnette", "chantage", "chantier", "chantre", "chaos", "chapeau", "chapitre", "chapon", "charbon", "chardon", "chargeur", "chariot", "charlatan", "charmeur", "charogne", "charpentier", "charrette", "chasseur", "châssis", "châtiment", "chaudron", "chauffage", "chaussette", "chaussure", "chauve", "chef-d'œuvre", "cheminée", "chemise", "chenal", "chenille", "chèque", "chérir", "chétif", "chevalier", "chevelure", "cheville", "chevrotine", "chèvre", "chicaner", "chiffon", "chimère", "chimie", "chirurgie", "choc", "choix", "choléra", "chorale", "chose", "chuchotement", "chute", "cible", "ciel", "cigale", "cil", "cimenter", "cimetière", "cinéma", "cinq", "circonférence", "circonspection", "circonstance", "circuit", "circulaire", "circuler", "cire", "ciseau", "citerne", "citoyenneté", "citronnade", "civière", "civilisation", "clairon", "clameur", "clandestin", "claquement", "clarté", "classement", "classique", "clavier", "clé", "clientèle", "climatisation", "cloche", "clocher", "clôture", "coaguler", "coalition", "coccinelle", "cochon", "cocotier", "code", "codifier", "cognée", "cohabitation", "cohérence", "coiffeur", "coïncidence", "colère", "collaboration", "collège", "colline", "collision", "colloque", "colonne", "combinaison", "combustible", "comédie", "comète", "comique", "commandant", "commando", "commémoration", "commencement", "commenter", "commercialiser", "commissaire", "commission", "commodité", "communauté", "communion", "compact", "compagnon", "comparaison", "compartiment", "compassion", "compatriote", "compenser", "compétition", "compétitif", "complément", "complet", "complexité", "complication", "complice", "complot", "comportement", "composer", "compréhension", "comptabilité", "compte-rendu", "compulser", "concave", "concentration", "concept", "concession", "concepteur", "concertation", "conciliant", "concluant", "concorde", "concurrence", "condamnation", "condenser", "conditionnement", "confection", "conférence", "confesser", "confiance", "confidentiel", "confiner", "confirmer", "confisquer", "conflit", "conformer", "confortable", "confrère", "confrontation", "confus", "congé", "congestion", "conjecture", "conjoint", "conjugaison", "conjoncture", "connaissance", "connecter", "connivence", "conquérant", "consécutif", "conseiller", "conséquence", "conservation", "conservateur", "conserver", "considérable", "considération", "consister", "consolation", "consolider", "consommation", "consommer", "conspirer", "constant", "constater", "constellation", "constituer", "constitutionnel", "constructeur", "consultation", "consulter", "contact", "contagieux", "contempler", "contemporain", "contenir", "contentement", "contention", "conter", "contestation", "contexte", "contigu", "continent", "contingent", "continuel", "contour", "contracter", "contradiction", "contraignant", "contraire", "contraste", "contrepartie", "contribuer", "contribution", "contrôle", "contrôler", "controversé", "convalescence", "conventionnel", "conviction", "convoiter", "convoquer", "coopération", "coordonner", "copie", "copiste", "coq", "coque", "cordialité", "cordon", "corne", "corniche", "corps", "corpulent", "correcteur", "correction", "correspondance", "corridor", "corrompu", "corsage", "cortège", "cosmique", "costume", "côte", "cotisation", "coton", "couche", "coude", "coulisse", "couloir", "coupable", "coupe", "couplet", "courant", "courbe", "courir", "couronne", "courrier", "cours", "course", "courtisan", "cousin", "couteau", "coutume", "couverture", "couvrir", "crabe", "cracher", "craie", "crainte", "crâne", "crapaud", "cravate", "crayon", "créateur", "création", "crédit", "créer", "crémation", "créneau", "crêpe", "crépuscule", "crescendo", "creuser", "crevette", "cri", "cric", "crime", "criminel", "crinière", "crise", "cristal", "critère", "critique", "crochet", "croiser", "croisière", "croissance", "croître", "croustillant", "croyance", "cruauté", "cruche", "crue", "cuillère", "cuir", "cuirassé", "cuisine", "cuisinier", "cuisse", "culinaire", "culminant", "culot", "culotte", "cultiver", "culturel", "curiosité", "cyclisme", "cylindre", "cynique", "dactylographie", "dada", "daguerreotype", "dahlia", "daigner", "dalle", "damier", "dandy", "dangereusement", "danois", "dard", "datte", "débâcle", "déballer", "débarquer", "débarrasser", "débattre", "débauche", "débit", "débloquer", "déborder", "déboucher", "débrouillard", "début", "décapitation", "décéder", "déceler", "décembre", "décence", "décent", "déception", "décerner", "déchirer", "décision", "déclaration", "déclarer", "déclin", "décliner", "décodage", "décoller", "décolorer", "décomposer", "déconcentrer", "déconseiller", "décorateur", "décoration", "découdre", "découpage", "découper", "décourager", "découverte", "décrire", "décrocher", "décroître", "dédain", "dédicace", "dédier", "déduction", "défaire", "défaillance", "défaite", "défaut", "défavorisé", "défendre", "défenseur", "défi", "défiance", "déficience", "déficit", "définir", "définitif", "déflation", "déformer", "défricher", "défunts", "dégager", "dégât", "dégénérer", "dégivrer", "dégradation", "déguster", "déjeuner", "délai", "déléguer", "délicatesse", "délicieux", "délire", "délivrance", "délivrer", "déloger", "démagogie", "démarche", "démarrer", "déménagement", "déménager", "démence", "démesure", "démissionner", "démodé", "démolir", "démon", "démonstration", "démontrer", "déni", "dénombrement", "dénoncer", "département", "dépasser", "dépendance", "dépenser", "dépêcher", "dépit", "déplacer", "déplaire", "déploiement", "déplorer", "déporter", "déposer", "dépôt", "dépression", "déprimer", "déraciner", "dérangement", "déraper", "dérision", "dériver", "déroulement", "dérouler", "désagréable", "désaccord", "désaltérer", "désarmement", "désastreux", "déséquilibre", "désert", "désespérer", "désespoir", "désignation", "désinfecter", "désintéressé", "désillusion", "désister", "désobéir", "désolation", "désordre", "désormais", "désorienter", "désosser", "dessert", "dessin", "dessiner", "dessouder", "dessous", "dessus", "destinataire", "destination", "destinée", "détachement", "détail", "détecter", "détente", "détention", "déterminant", "déterminer", "détester", "détournement", "détourner", "détresse", "détruire", "dette", "deuil", "deuxième", "dévaluation", "développement", "développer", "déviation", "deviner", "devise", "dévotion", "dévouement", "dextérité", "diabolique", "diagnostiquer", "dialecte", "dialogue", "diamètre", "diapason", "dictature", "dicter", "diffamation", "différencier", "difficilement", "digérer", "digne", "dignité", "dilater", "dilemme", "diligence", "diluer", "dimension", "diminution", "dîner", "diplomate", "diplomatie", "directeur", "direction", "dirigeant", "diriger", "discerner", "discipline", "discontinuer", "discorde", "discret", "discours", "discrétion", "discussion", "discuter", "disparition", "dispersion", "disponible", "disposition", "dispute", "dissiper", "dissocier", "dissoudre", "distance", "distinction", "distinguer", "distribuer", "distribution", "divers", "diversité", "divertir", "dividende", "divin", "division", "divorcer", "dixième", "docile", "docteur", "doctrine", "documentaire", "dogme", "doigt", "domestique", "dominant", "domination", "dommageable", "donateur", "donc", "donjon", "donner", "dont", "dormir", "dorsal", "dosage", "dotation", "douanier", "double", "douleur", "douteux", "doux", "douzaine", "draconien", "drame", "dramatique", "drap", "dresser", "drogue", "droit", "droiture", "drôle", "dualisme", "dûment", "duper", "duplicata", "durable", "durer", "dynamisme", "dynastie", "ébahi", "éblouir", "éboulement", "ébranler", "ébullition", "écaille", "écarlate", "écarter", "échafaudage", "échange", "échapper", "écharde", "écharpe", "échéance", "échelle", "échelon", "écho", "échouer", "éclairage", "éclaircir", "éclatant", "éclipse", "éclore", "écologie", "économique", "économie", "économiser", "écorce", "écraser", "écrivain", "écrouler", "écume", "édifice", "édifier", "éditer", "éditeur", "éducation", "effacer", "effectif", "effectuer", "efficace", "efficacité", "effigie", "effondrement", "efforcer", "effort", "effrayant", "effroi", "effusion", "également", "égalité", "égard", "égarer", "égayer", "égide", "égout", "égratignure", "égyptien", "éjaculer", "élaborer", "élan", "élargir", "élastique", "électeur", "élection", "électrique", "élégance", "élégant", "élémentaire", "éléphant", "élever", "éligible", "éliminer", "élingue", "élite", "éloge", "éloigné", "éloquence", "élucider", "éluder", "émaner", "émancipation", "emballer", "embarcation", "embarquement", "embarrasser", "embellir", "emblème", "embrasser", "embrouiller", "émergence", "émerger", "émerveiller", "émigrant", "émigrer", "éminence", "émissaire", "émission", "émotionnel", "émouvoir", "empaqueter", "emparer", "empêcher", "empereur", "emphatique", "empire", "emplacement", "employer", "empoisonner", "emporter", "empreinte", "emprisonner", "emprunt", "émulation", "encadrer", "encens", "enchanteur", "enchaîner", "enclave", "enclin", "encombrement", "encontre", "encouragement", "encourager", "encre", "encyclopédie", "endommager", "endormir", "endosser", "endurance", "énergique", "enfance", "enfermer", "enfiler", "enflammer", "enfler", "enfoncer", "engagement", "engager", "engendrer", "engin", "engloutir", "énigmatique", "enjamber", "enjoindre", "enlacer", "enlever", "ennemi", "ennui", "ennuyer", "énoncer", "énorme", "enquête", "enraciner", "enregistrer", "enrichir", "enrôler", "enseigne", "enseignement", "ensevelir", "ensoleillé", "entacher", "entamer", "entente", "enterrer", "entier", "entité", "entourage", "entourer", "entraide", "entraîner", "entrapercevoir", "entraver", "entreprendre", "entreprise", "entrer", "entretenir", "entretien", "entrevue", "énumérer", "envahir", "enveloppe", "envelopper", "envergure", "enviable", "environnemental", "envisager", "envol", "envoyer", "épargner", "éparpiller", "épaule", "épée", "éphémère", "épicé", "épidémie", "épier", "épingle", "épisode", "épistolaire", "épitaphe", "époque", "épouvantable", "épouser", "épuisant", "épuiser", "équateur", "équilibre", "équiper", "équitable", "équivalence", "équivoque", "ériger", "érodé", "érotique", "errer", "erreur", "éruption", "escalader", "escalier", "escargot", "escarpé", "escorte", "espace", "espacer", "espagnol", "espèce", "espérer", "esprit", "esquiver", "essai", "essayer", "essence", "essentiel", "estime", "estimer", "estomac", "estrade", "établir", "établissement", "étage", "étaler", "étalon", "étanche", "état", "étincelle", "étendre", "éternel", "éternuer", "éther", "éthique", "étirer", "étoffe", "étoile", "étonnant", "étonner", "étouffer", "étourdi", "étranger", "étreindre", "étroit", "étude", "étudiant", "étudier", "euphorie", "européen", "évacuer", "évaluer", "évanouir", "évaporation", "évasion", "événement", "éventuel", "évider", "évident", "éviter", "évoquer", "exactitude", "exagérer", "exaltant", "examen", "examiner", "exaspérer", "exaucer", "excavation", "excédent", "excéder", "excellence", "excellent", "excepter", "exceptionnel", "excès", "exciter", "exclure", "exclusif", "excursion", "excuser", "exécuter", "exemple", "exemption", "exercer", "exercice", "exhaler", "exhiber", "exigence", "exiger", "exil", "exister", "existence", "exode", "exonérer", "exorbitant", "exorciser", "expansion", "expédier", "expérience", "expérimenter", "expert", "expertise", "expiation", "expirer", "expliquer", "exploiter", "exploration", "explorer", "explosion", "exportation", "exporter", "exposer", "exposition", "express", "expression", "exproprier", "expulser", "extérieur", "exterminer", "extinction", "extirper", "extorquer", "extraire", "extraordinaire", "extrême", "exubérant", "fabriquer", "fabuleux", "facétieux", "facilement", "facteur", "faction", "facture", "facultatif", "fadeur", "faiblir", "faillite", "faisable", "faisceau", "faitout", "fallacieux", "falsifier", "familial", "fanatisme", "faner", "fantaisie", "fantastique", "fantôme", "farce", "farfelu", "farine", "fascination", "fasciner", "fastidieux", "fatal", "fatalité", "fatigant", "faucher", "faucon", "faune", "fausse", "fauteuil", "faveur", "favorable", "fécondité", "fédéral", "féerie", "feindre", "félicitation", "féliciter", "félin", "femmelette", "fendre", "fermenter", "fertile", "festif", "feuillage", "feuilleter", "fiabilité", "fiancé", "fibre", "fiche", "fidélité", "fiel", "fièvre", "figé", "filature", "filigrane", "filleul", "filmographie", "finalité", "finesse", "fiscal", "fixation", "flacon", "flamboyant", "flâner", "flatterie", "flegmatique", "fleurir", "flexibilité", "flirt", "fluctuation", "flûte", "foire", "fonctionnel", "fondamental", "forcer", "forcené", "forge", "forger", "formalisme", "formalité", "formidable", "fortification", "fouet", "fouiller", "fourmi", "fourneau", "fourrure", "fracas", "fracture", "fragile", "fraîcheur", "franc-parler", "franchise", "frappant", "fraude", "freinage", "fréquenter", "friction", "frigidaire", "frissonner", "froidement", "fromager", "frontalier", "frotter", "frugal", "fruitier", "frustrer", "fuite", "fulgurant", "funèbre", "funéraire", "furtif", "fusionner", "fustiger", "futuriste", "gâcher", "gageure", "gaieté", "galant", "galopade", "gang", "garagiste", "garçonnet", "garde-robe", "gardien", "gargarisme", "garnir", "garrigue", "gastronomie", "gâter", "gaulois", "gelée", "gémir", "généraliser", "générateur", "génération", "généreux", "genouillère", "géographie", "géologie", "géométrie", "gérant", "gérer", "gestation", "gesticuler", "gibier", "gigantesque", "gilet", "gingembre", "girafe", "gisement", "givre", "glacier", "glisser", "global", "gloire", "glorifier", "gourmandise", "goutte", "gouvernance", "gouvernemental", "gracieux", "gradation", "graduer", "graffiti", "grain", "graisse", "grammaire", "granit", "graphisme", "gratification", "gratuitement", "gravier", "gravitation", "grêler", "grenade", "gribouiller", "grille", "grogner", "gronder", "grossesse", "grossier", "grouiller", "groupement", "gruau", "guérison", "guillotine", "guitariste", "gynécologie", "habilement", "habiller", "hache", "hallucination", "hameau", "handicap", "harceler", "hardiesse", "harmonie", "harmonieux", "hasard", "hâte", "hausser", "hautain", "heaume", "héberger", "hébétude", "hectare", "hérédité", "hérésie", "hérisson", "hériter", "héritage", "héroïque", "hésitation", "heuristique", "heureux", "hibernation", "hideux", "hiérarchie", "hippocampe", "hirondelle", "historien", "hivernal", "holistique", "hommage", "homicide", "homogénéité", "homologue", "honnêteté", "honoraires", "honte", "horaire", "horizontal", "hormone", "horticulture", "hospitalier", "hostilité", "huile", "huit", "humanisme", "humanité", "humblement", "humiliation", "humilier", "hurlement", "hydraulique", "hydrogène", "hygiène", "hymne", "hyperbole", "hypocrisie", "hypothèse", "hystérie", "iceberg", "idéal", "idéalisme", "idéologie", "idiome", "idiotie", "ignoble", "illégal", "illégitime", "illuminer", "illusion", "illustrer", "imaginaire", "immaculé", "immédiat", "immersion", "immoral", "immortel", "immunité", "impact", "impatience", "impératif", "impérial", "impersonnel", "implanter", "implication", "impliquer", "implorer", "impoli", "importance", "important", "importer", "impôt", "impressionnant", "improbable", "improviser", "impulsion", "impunité", "inabordable", "inacceptable", "inactif", "inadéquat", "inauguration", "incarcérer", "incendie", "incertain", "inciter", "incivil", "inclinaison", "incohérence", "inconfort", "inconnu", "inconscient", "inconséquent", "incorporer", "incroyable", "inculper", "indécis", "indemnisation", "indépendance", "indicatif", "indication", "indice", "indifférence", "indigène", "indignation", "indigner", "indirect", "indiscret", "indispensable", "individuel", "induire", "indulgence", "industrie", "inexpérience", "infâme", "infanterie", "infidèle", "infiltration", "infirmité", "inflammation", "informateur", "infraction", "ingénieux", "ingrat", "inhabituel", "inhérent", "inhumain", "initiale", "injecter", "injuste", "innocent", "innovation", "innover", "inoccupe", "inopportun", "inquisition", "insaisissable", "insalubre", "inscription", "insecticide", "inséparable", "insigne", "insinuer", "insipide", "insolent", "insomnie", "instinctif", "institutionnel", "instrumental", "insuffisant", "insurrection", "intact", "intégral", "intégration", "intellect", "intellectuel", "intelligent", "intemporel", "intensité", "intentionnel", "interactif", "interface", "interférence", "interminable", "interne", "interner", "interpeller", "interprétation", "interruption", "intervalle", "interviewer", "intimidant", "intolérant", "intonation", "intrus", "inusable", "invaincu", "invasion", "investigateur", "invincible", "invocable", "irréel", "ironie", "irréparable", "irrésistible", "isolement", "itinéraire", "ivoire", "jacinthe", "jambon", "jante", "jargon", "jaunir", "javel", "jazz", "jetée", "jeton", "jointure", "jonction", "jongler", "jouet", "joueur", "journaliste", "jovial", "jubiler", "judiciaire", "judicieux", "jugement", "jument", "jupe", "juridique", "jury", "justesse", "justifier", "juxtaposer", "kaki", "kangourou", "kermesse", "kilo", "kilomètre", "kimono", "koala", "krach", "kyrielle", "labial", "laboratoire", "laborieux", "labourer", "labyrinthe", "lacet", "laisser-aller", "lacune", "laineux", "lamentable", "lamenter", "lance-flammes", "langoureux", "lanterne", "lapsus", "larve", "lassitude", "latin", "latitude", "laxatif", "légaliser", "légendaire", "légitime", "léguer", "lentille", "lenteur", "léopard", "léthargie", "leurre", "levier", "libéral", "licite", "lièvre", "ligament", "ligoter", "limpide", "linéaire", "linguistique", "lionceau", "liquéfier", "lisse", "littéraire", "littérature", "litige", "livraison", "local", "localiser", "locataire", "location", "locomotive", "logement", "logique", "loisir", "longévité", "loquace", "loterie", "loyal", "loyauté", "lubrifiant", "lucratif", "lueur", "lugubre", "lumineux", "lunatique", "lundi", "lustre", "lycée", "lyrique", "macabre", "mâcher", "machinerie", "maculer", "magicien", "magie", "magnanime", "magnétique", "magnifier", "magnifique", "magnum", "maille", "maintenir", "maladif", "maladresse", "malaise", "malchance", "malédiction", "maléfique", "malentendu", "malfaiteur", "malhonnête", "malice", "maligne", "mallette", "maltraitance", "mammifère", "manège", "manchette", "mandat", "mandibule", "manette", "mangeoire", "manie", "manœuvre", "manquer", "manteau", "manuel", "marathon", "maraud", "marbre", "marchandise", "marchepied", "marguerite", "marinade", "marmite", "marteau", "martial", "martyr", "massif", "mastic", "matelas", "matériel", "matrice", "maturité", "maudire", "maximal", "mécanicien", "mécanique", "mécontent", "médaillon", "médiateur", "médiation", "médicament", "méfiance", "méfier", "mélancolie", "mêler", "membrane", "mémorable", "ménager", "mendier", "menottes", "mensonge", "mensuel", "mental", "mentalité", "menuisier", "mépriser", "mercredi", "mérite", "merveilleux", "métamorphose", "métaphore", "météore", "méticuleux", "mexicain", "microscope", "migration", "millénaire", "millionnaire", "minerai", "miniature", "minimal", "ministère", "minorité", "minutie", "mirage", "misérable", "misère", "missionnaire", "mobilier", "mobiliser", "modéré", "modeste", "moelle", "molécule", "mollesse", "momentané", "monarchie", "monastère", "mondial", "monétaire", "moniteur", "monocle", "monopole", "monstrueux", "montage", "montagneux", "monticule", "monument", "moquer", "morgue", "mortier", "mosquée", "mouchoir", "moudre", "moule", "moulin", "mourir", "mouvement", "muet", "municipalité", "murmure", "musée", "musical", "mystérieux", "mythe", "nappe", "narcisse", "narguer", "narrer", "nasal", "nationalité", "naturellement", "naufrage", "naval", "naviguer", "négligence", "négociation", "neigeux", "neutraliser", "niche", "nickel", "nid", "nier", "noble", "nocturne", "nœud", "noirâtre", "nomade", "nonchalant", "nordique", "normaliser", "notable", "notaire", "notation", "notice", "nourrir", "nourriture", "novice", "nuageux", "nuire", "numérique", "obéir", "oblique", "obscurcir", "obséder", "obsession", "obstiné", "obturateur", "occasionnel", "occidental", "océanique", "oculaire", "odieux", "olfactif", "olivier", "ombrage", "omission", "onduler", "opacité", "opéra", "opérateur", "opportun", "oppresser", "optique", "optimisme", "orateur", "ordonnance", "organique", "orienter", "orifice", "originalité", "orphelin", "orteil", "orthographe", "osciller", "osseux", "ostensible", "otage", "ôter", "oui", "outrage", "outrepasser", "ouvrier", "ovale", "ovulation", "oxyde", "pacifique", "pagaie", "païen", "paillasson", "palpable", "palper", "panier", "panique", "panneau", "panoramique", "pantalons", "pantoufle", "papillon", "papyrus", "parade", "paradis", "paradoxal", "paragraphe", "paralysie", "paralyser", "paramètre", "parasite", "parcelle", "parchemin", "pardon", "parenté", "paresseux", "parfaitement", "parieur", "parlementaire", "partage", "partiel", "partout", "parvenir", "pascal", "passivité", "pastèque", "patience", "patin", "patrimonial", "patrouille", "pavé", "paysage", "paysan", "pêcheur", "pelage", "pelle", "pénalité", "pendule", "pénétrable", "pénible", "pensionnaire", "pentagone", "pente", "percussion", "perdition", "perfection", "perforer", "péril", "périlleux", "périphérique", "perplexe", "persévérer", "persister", "personnalité", "persuader", "pertinent", "pessimiste", "pétale", "pétition", "pétrifier", "peuple", "phalange", "phare", "phénomène", "phobie", "phonétique", "photographe", "phrase", "thérapeutique", "thermique", "thermomètre", "thorax", "tige", "tinter", "tirage", "titulaire", "toast", "tolérance", "tonnerre", "topographie", "torche", "torrent", "tortue", "totalité", "tourbillon", "tourment", "tournoi", "traditionnel", "tragédie", "traîner", "transcender", "transfert", "transfuser", "transgression", "transpirer", "trèfle", "trembler", "tremper", "tressauter", "tribut", "tricoter", "trident", "triomphe", "tromperie", "trompette", "tronc", "tropique", "trottoir", "trouble", "troupeau", "truquer", "tumulte", "turban", "turbulent", "tuteur", "tutoyer", "tympan", "typique", "tyran", "ulcère", "ultérieur", "ultraviolet", "unanimité", "uniforme", "unifier", "union", "unique", "usage", "usager", "usé", "user", "usuel", "usure", "utopie", "vaciller", "vagabond", "vallée", "valoriser", "vanille", "vase", "vaticiner", "végétal", "végétarien", "véhicule", "veinard", "vélocité", "vengeance", "ventiler", "verbal", "verbeux", "véranda", "véritable", "verser", "vestibule", "vestige", "vétérinaire", "vexer", "viande", "vibration", "vicaire", "vice", "victoire", "victime", "vide", "vigueur", "villageois", "vindicatif", "violon", "virage", "virgule", "viril", "virtuel", "virus", "visionnaire", "visiteur", "visuel", "vital", "vitesse", "vitre", "vocabulaire", "vœu", "voiler", "voisinage", "volaille", "voltige", "volume", "volupté", "vomir", "voyageur", "vraisemblable", "vulgaire", "vulnérable", "western", "whisky", "yoga", "yogourt", "zèle", "zénith", "zodiaque"
        ];
        
        const letterValues = {
            'a': 1, 'e': 1, 'i': 1, 'l': 1, 'n': 1, 'o': 1, 'r': 1, 's': 1, 't': 1, 'u': 1,
            'd': 2, 'g': 2, 'm': 2,
            'b': 3, 'c': 3, 'p': 3,
            'f': 4, 'h': 4, 'v': 4,
            'j': 8, 'q': 8,
            'k': 10, 'w': 10, 'x': 10, 'y': 10, 'z': 10
        };

        const BOARD_SIZE = 15;
        const specialSquares = {
            '0,0': 'tw', '0,7': 'tw', '0,14': 'tw',
            '7,0': 'tw', '7,14': 'tw',
            '14,0': 'tw', '14,7': 'tw', '14,14': 'tw',
            '1,1': 'dw', '2,2': 'dw', '3,3': 'dw', '4,4': 'dw',
            '1,13': 'dw', '2,12': 'dw', '3,11': 'dw', '4,10': 'dw',
            '10,4': 'dw', '11,3': 'dw', '12,2': 'dw', '13,1': 'dw',
            '10,10': 'dw', '11,11': 'dw', '12,12': 'dw', '13,13': 'dw',
            '1,5': 'tl', '1,9': 'tl',
            '5,1': 'tl', '5,5': 'tl', '5,9': 'tl',
            '5,13': 'tl',
            '9,1': 'tl', '9,5': 'tl', '9,9': 'tl', '9,13': 'tl',
            '13,5': 'tl', '13,9': 'tl',
            '0,3': 'dl', '0,11': 'dl',
            '2,6': 'dl', '2,8': 'dl',
            '3,0': 'dl', '3,7': 'dl', '3,14': 'dl',
            '6,2': 'dl', '6,6': 'dl', '6,8': 'dl',
            '6,12': 'dl',
            '7,3': 'dl', '7,11': 'dl',
            '8,2': 'dl', '8,6': 'dl', '8,8': 'dl',
            '8,12': 'dl',
            '11,0': 'dl', '11,7': 'dl', '11,14': 'dl',
            '12,6': 'dl', '12,8': 'dl',
            '14,3': 'dl', '14,11': 'dl',
            '7,7': 'star'
        };

        let boardState = Array(BOARD_SIZE).fill(null).map(() => Array(BOARD_SIZE).fill(''));

        const columnLetters = "ABCDEFGHIJKLMNOPQRSTUVWXYZ".split('');

        function showError(message) {
            errorMessage.textContent = message;
            errorBox.classList.remove('hidden');
        }

        function hideError() {
            errorBox.classList.add('hidden');
        }

        function canFormWord(word, availableLettersString) {
            let tempLetters = availableLettersString.split('');

            for (let i = 0; i < word.length; i++) {
                const char = word[i];
                const index = tempLetters.indexOf(char);

                if (index !== -1) {
                    tempLetters.splice(index, 1);
                } else {
                    const jokerIndex = tempLetters.indexOf('*');
                    if (jokerIndex !== -1) {
                        tempLetters.splice(jokerIndex, 1);
                    } else {
                        return false;
                    }
                }
            }
            return true;
        }

        function findWordExtent(board, r, c, direction) {
            let startR = r, startC = c;
            let endR = r, endC = c;

            if (direction === 'horizontal') {
                while (startC > 0 && board[r][startC - 1] !== '') {
                    startC--;
                }
                while (endC < BOARD_SIZE - 1 && board[r][endC + 1] !== '') {
                    endC++;
                }
            } else {
                while (startR > 0 && board[startR - 1][c] !== '') {
                    startR--;
                }
                while (endR < BOARD_SIZE - 1 && board[endR + 1][c] !== '') {
                    endR++;
                }
            }
            return { startR, startC, endR, endC };
        }

        function scoreBoardWord(board, startR, startC, endR, endC, direction, lettersPlacedByPlayerThisTurn) {
            let currentWordScore = 0;
            let currentWordMultiplier = 1;
            let wordChars = [];

            for (let i = 0; ; i++) {
                const r = startR + (direction === 'vertical' ? i : 0);
                const c = startC + (direction === 'horizontal' ? i : 0);

                if ( (direction === 'horizontal' && c > endC) || (direction === 'vertical' && r > endR) ) break;

                const charOnBoard = board[r][c].toLowerCase();
                wordChars.push(charOnBoard);

                let letterVal = letterValues[charOnBoard] || 0;

                const isLetterNewlyPlaced = lettersPlacedByPlayerThisTurn.some(lp => lp.r === r && lp.c === c);
                const squareType = specialSquares[`${r},${c}`];

                if (isLetterNewlyPlaced) {
                    if (squareType === 'dl') letterVal *= 2;
                    if (squareType === 'tl') letterVal *= 3;
                    if (squareType === 'dw' || squareType === 'star') currentWordMultiplier *= 2;
                    if (squareType === 'tw') currentWordMultiplier *= 3;
                }
                currentWordScore += letterVal;
            }
            return { score: currentWordScore, word: wordChars.join(''), wordMultiplier: currentWordMultiplier };
        }


        function calculateFullMoveScore(word, startRow, startCol, direction, currentBoardState, playerHand) {
            let tempBoard = currentBoardState.map(row => [...row]);
            let workingHand = playerHand.split('');

            let lettersPlacedByPlayer = [];
            let mainWordUsesExistingLetter = false;
            let centerStarUsedByNewTile = false;

            for (let i = 0; i < word.length; i++) {
                const r = startRow + (direction === 'vertical' ? i : 0);
                const c = startCol + (direction === 'horizontal' ? i : 0);

                if (r < 0 || r >= BOARD_SIZE || c < 0 || c >= BOARD_SIZE) return null;

                const boardChar = tempBoard[r][c].toLowerCase();
                const wordChar = word[i];

                if (boardChar !== '') {
                    if (boardChar !== wordChar) return null;
                    mainWordUsesExistingLetter = true;
                } else {
                    const handIndex = workingHand.indexOf(wordChar);
                    if (handIndex !== -1) {
                        workingHand.splice(handIndex, 1);
                    } else {
                        const jokerIndex = workingHand.indexOf('*');
                        if (jokerIndex !== -1) {
                            workingHand.splice(jokerIndex, 1);
                        } else {
                            return null;
                        }
                    }
                    tempBoard[r][c] = wordChar.toUpperCase();
                    lettersPlacedByPlayer.push({ r: r, c: c, char: wordChar });

                    if (r === 7 && c === 7) {
                        centerStarUsedByNewTile = true;
                    }
                }
            }

            if (lettersPlacedByPlayer.length === 0) return null;

            let boardIsCurrentlyEmpty = currentBoardState.every(row => row.every(cell => cell === ''));

            if (boardIsCurrentlyEmpty) {
                if (!centerStarUsedByNewTile) return null;
            } else {
                let connected = mainWordUsesExistingLetter;
                if (!connected) {
                    for (const { r, c } of lettersPlacedByPlayer) {
                        const neighbors = [[r - 1, c], [r + 1, c], [r, c - 1], [r, c + 1]];
                        for (const [nr, nc] of neighbors) {
                            if (nr >= 0 && nr < BOARD_SIZE && nc >= 0 && nc < BOARD_SIZE && currentBoardState[nr][nc] !== '') {
                                connected = true;
                                break;
                            }
                        }
                        if (connected) break;
                    }
                }
                if (!connected) return null;
            }

            let totalScore = 0;

            const { startR: mainStartR, startC: mainStartC, endR: mainEndR, endC: mainEndC } = findWordExtent(tempBoard, startRow, startCol, direction);
            const mainWordScored = scoreBoardWord(tempBoard, mainStartR, mainStartC, mainEndR, mainEndC, direction, lettersPlacedByPlayer);

            if (!frenchDictionary.includes(mainWordScored.word)) {
                return null;
            }
            totalScore += mainWordScored.score;

            for (const { r, c } of lettersPlacedByPlayer) {
                const perpDirection = direction === 'horizontal' ? 'vertical' : 'horizontal';

                const { startR: perpStartR, startC: perpStartC, endR: perpEndR, endC: perpEndC } = findWordExtent(tempBoard, r, c, perpDirection);

                const perpLength = (perpDirection === 'horizontal' ? (perpEndC - perpStartC + 1) : (perpEndR - perpStartR + 1));

                if (perpLength > 1) {
                    const perpWordScored = scoreBoardWord(tempBoard, perpStartR, perpStartC, perpEndR, perpEndC, perpDirection, lettersPlacedByPlayer);

                    if (!frenchDictionary.includes(perpWordScored.word)) {
                        return null;
                    }
                    totalScore += perpWordScored.score;
                }
            }

            totalScore *= mainWordScored.wordMultiplier;

            if (lettersPlacedByPlayer.length === 7) {
                totalScore += 50;
            }

            return totalScore;
        }


        function initializeBoard() {
            scrabbleBoardDiv.innerHTML = '';
            for (let i = 0; i <= BOARD_SIZE; i++) {
                for (let j = 0; j <= BOARD_SIZE; j++) {
                    const cell = document.createElement('div');
                    if (i === 0 && j === 0) {
                        cell.className = 'header-cell';
                    } else if (i === 0) {
                        cell.className = 'header-cell';
                        cell.textContent = columnLetters[j - 1];
                    } else if (j === 0) {
                        cell.className = 'header-cell';
                        cell.textContent = i;
                    } else {
                        const row = i - 1;
                        const col = j - 1;

                        cell.dataset.row = row;
                        cell.dataset.col = col;
                        const squareType = specialSquares[`${row},${col}`] || 'normal';
                        cell.className = `board-cell ${squareType}`;

                        const input = document.createElement('input');
                        input.type = 'text';
                        input.maxLength = 1;
                        input.value = boardState[row][col];
                        input.oninput = (e) => {
                            e.target.value = e.target.value.toUpperCase().replace(/[^A-Z]/g, '');
                            boardState[row][col] = e.target.value;
                            if (e.target.value) {
                                cell.classList.add('has-letter');
                            } else {
                                cell.classList.remove('has-letter');
                            }
                            clearHighlights();
                        };
                        if (boardState[row][col]) {
                            cell.classList.add('has-letter');
                        }
                        cell.appendChild(input);
                    }
                    scrabbleBoardDiv.appendChild(cell);
                }
            }
        }

        function clearBoard() {
            boardState = Array(BOARD_SIZE).fill(null).map(() => Array(BOARD_SIZE).fill(''));
            initializeBoard();
            clearHighlights();
        }

        function applyHighlightToBoard(placement) {
            clearHighlights();

            const { word, startRow, startCol, direction } = placement;

            for (let i = 0; i < word.length; i++) {
                const r = startRow + (direction === 'vertical' ? i : 0);
                const c = startCol + (direction === 'horizontal' ? i : 0);

                // Calcul de l'index de la cellule dans la grille (compte les en-têtes)
                const cellElement = scrabbleBoardDiv.children[(r + 1) * (BOARD_SIZE + 1) + (c + 1)];
                if (cellElement) {
                    cellElement.classList.add('highlight-best-word');
                }
            }
        }

        function clearHighlights() {
            document.querySelectorAll('.highlight-best-word').forEach(cell => {
                cell.classList.remove('highlight-best-word');
            });
        }

        function performSave() {
            let filename = saveFilenameInput.value.trim();
            if (filename === "") {
                filename = "scrabble_board"; // Nom par défaut si l'utilisateur annule ou entre vide
            }
            // Nettoie le nom de fichier pour éviter les caractères invalides et ajoute l'extension .json
            filename = filename.replace(/[^a-zA-Z0-9-_]/g, '') + '.json';

            const dataStr = JSON.stringify(boardState);
            const blob = new Blob([dataStr], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = filename; // Utilise le nom de fichier défini par l'utilisateur
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);

            hideSaveModal(); // Hide modal after saving
        }

        function showSaveModal() {
            saveFilenameInput.value = "scrabble_board"; // Default value
            saveModal.classList.remove('hidden');
            saveFilenameInput.focus();
        }

        function hideSaveModal() {
            saveModal.classList.add('hidden');
        }

        function loadBoard(event) {
            const file = event.target.files[0];
            if (!file) {
                return;
            }

            const reader = new FileReader();
            reader.onload = (e) => {
                try {
                    const loadedData = JSON.parse(e.target.result);
                    if (Array.isArray(loadedData) && loadedData.length === BOARD_SIZE && loadedData.every(row => Array.isArray(row) && row.length === BOARD_SIZE)) {
                        boardState = loadedData.map(row => row.map(cell => typeof cell === 'string' ? cell.toUpperCase() : ''));
                        initializeBoard();
                        hideError();
                    } else {
                        showError("Fichier JSON invalide. Le format du plateau est incorrect.");
                    }
                } catch (err) {
                    showError("Erreur lors de la lecture du fichier. Assurez-vous que c'est un fichier JSON valide.");
                }
            };
            reader.readAsText(file);
        }


        findWordsBtn.addEventListener('click', async () => {
            hideError();
            clearHighlights();
            const inputLetters = lettersInput.value.trim();

            if (inputLetters.length === 0) {
                showError("Veuillez entrer au moins une lettre ou un joker dans votre main.");
                resultsDiv.innerHTML = '<p class="text-center text-gray-400">Les suggestions de placement et de score apparaîtront ici.</p>';
                return;
            }

            loadingDiv.classList.remove('hidden');
            loadingMessageSpan.textContent = "Recherche des mots possibles à partir de votre main...";
            resultsDiv.innerHTML = '';
            findWordsBtn.disabled = true;
            lettersInput.disabled = true;

            const allPossibleWordsFromHand = [];

            await new Promise(resolve => setTimeout(() => {
                for (let word of frenchDictionary) {
                    if (word.length >= 2 && word.length <= 7 && canFormWord(word, inputLetters)) {
                        allPossibleWordsFromHand.push(word);
                    }
                }
                resolve();
            }, 50));

            loadingMessageSpan.textContent = `Simulation de ${allPossibleWordsFromHand.length} mots sur le plateau...`;

            const bestPlacements = [];

            await new Promise(resolve => setTimeout(() => {
                const directions = ['horizontal', 'vertical'];

                for (const word of allPossibleWordsFromHand) {
                    for (let r = 0; r < BOARD_SIZE; r++) {
                        for (let c = 0; c < BOARD_SIZE; c++) {
                            for (const direction of directions) {
                                const totalMoveScore = calculateFullMoveScore(word, r, c, direction, boardState, inputLetters);
                                if (totalMoveScore !== null) {
                                    bestPlacements.push({
                                        word: word,
                                        score: totalMoveScore,
                                        startRow: r,
                                        startCol: c,
                                        direction: direction
                                    });
                                }
                            }
                        }
                    }
                }
                resolve();
            }, 50));

            bestPlacements.sort((a, b) => b.score - a.score);

            loadingDiv.classList.add('hidden');
            findWordsBtn.disabled = false;
            lettersInput.disabled = false;

            if (bestPlacements.length > 0) {
                const ul = document.createElement('ul');
                ul.className = 'list-disc list-inside text-left space-y-1';
                const displayLimit = Math.min(bestPlacements.length, 50);
                for (let i = 0; i < displayLimit; i++) {
                    const item = bestPlacements[i];
                    const li = document.createElement('li');
                    const directionText = item.direction === 'horizontal' ? 'HORIZ' : 'VERT';
                    const displayRow = item.startRow + 1;
                    const displayColLetter = columnLetters[item.startCol];
                    li.innerHTML = `<span class="font-bold text-purple-400">${item.word.toUpperCase()}</span> - <span class="font-extrabold text-green-400">${item.score}</span> points <br> (<span class="text-gray-400">Position: ${displayColLetter}${displayRow} | Direction: ${directionText}</span>)`;
                    ul.appendChild(li);
                }
                resultsDiv.appendChild(ul);

                if (bestPlacements.length > displayLimit) {
                    const moreText = document.createElement('p');
                    moreText.className = 'text-center text-gray-500 mt-2 text-sm';
                    moreText.textContent = `... et ${bestPlacements.length - displayLimit} autres placements.`;
                    resultsDiv.appendChild(moreText);
                }

                applyHighlightToBoard(bestPlacements[0]);
            } else {
                resultsDiv.innerHTML = '<p class="text-center text-gray-400">Aucun placement valide trouvé avec vos lettres sur le plateau actuel.</p>';
            }
        });

        lettersInput.addEventListener('keypress', (event) => {
            if (event.key === 'Enter') {
                findWordsBtn.click();
            }
        });

        clearBoardBtn.addEventListener('click', clearBoard);
        saveBoardBtn.addEventListener('click', showSaveModal); // Call the new showSaveModal function
        loadBoardBtn.addEventListener('click', () => loadBoardInput.click());
        loadBoardInput.addEventListener('change', loadBoard);

        // Event listeners for the custom save modal
        cancelSaveBtn.addEventListener('click', hideSaveModal);
        confirmSaveBtn.addEventListener('click', performSave);
        saveFilenameInput.addEventListener('keypress', (event) => {
            if (event.key === 'Enter') {
                performSave();
            }
        });

        document.addEventListener('DOMContentLoaded', () => {
            initializeBoard();
        });
    </script>
</body>
</html>
