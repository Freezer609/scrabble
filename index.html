<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Scrabble Assistant Complet</title>
    <!-- Chargement de Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Définition de la police "Inter" */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f0f4f8; /* Un arrière-plan doux */
            display: flex;
            justify-content: center;
            align-items: flex-start; /* Aligner en haut */
            min-height: 100vh;
            padding: 20px;
            box-sizing: border-box; /* Pour inclure le padding dans la largeur/hauteur */
            flex-wrap: wrap; /* Permet aux éléments de s'enrouler sur les petits écrans */
            gap: 20px; /* Espace entre les blocs */
        }
        /* Styles pour les champs de saisie désactivés */
        input:disabled, button:disabled {
            cursor: not-allowed;
            background-color: #e2e8f0; /* Couleur de fond pour désactivé */
            opacity: 0.7;
        }
        /* Animation pour le chargement */
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        .animate-spin-custom {
            animation: spin 1s linear infinite;
        }

        /* Styles spécifiques au plateau de Scrabble (16x16 pour inclure les headers) */
        #scrabble-board {
            display: grid;
            grid-template-columns: repeat(16, minmax(0, 1fr)); /* 16 colonnes (1 pour les numéros, 15 pour le jeu) */
            grid-template-rows: repeat(16, minmax(0, 1fr)); /* 16 lignes (1 pour les lettres, 15 pour le jeu) */
            width: clamp(300px, 95vw, 600px); /* Taille du plateau adaptable, légèrement plus grand */
            height: clamp(300px, 95vw, 600px);
            border: 2px solid #333;
            background-color: #eee;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
            border-radius: 8px;
            overflow: hidden;
        }
        /* Ajustement de la taille de la première colonne/ligne des headers */
        #scrabble-board > :nth-child(16n+1) { /* Toutes les premières cellules de chaque ligne */
            width: 1.5rem; /* Largeur fixe pour les numéros de ligne */
            min-width: 1.5rem;
            max-width: 1.5rem;
            flex-grow: 0;
            flex-shrink: 0;
        }
        #scrabble-board > :nth-child(n) { /* Toutes les cellules de la première ligne */
            height: 1.5rem; /* Hauteur fixe pour les lettres de colonne */
            min-height: 1.5rem;
            max-height: 1.5rem;
            flex-grow: 0;
            flex-shrink: 0;
        }
        #scrabble-board > .board-cell { /* Réinitialise pour les vraies cellules de jeu */
            width: auto;
            height: auto;
        }


        .board-cell {
            position: relative;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 0.75rem; /* Taille du texte du bonus */
            font-weight: bold;
            color: #fff;
            border: 1px solid #ccc;
            box-sizing: border-box;
            user-select: none;
            /* Transition pour les changements de couleur */
            transition: background-color 0.3s ease;
        }
        .header-cell {
            background-color: #d1d9e0; /* Couleur des cellules d'en-tête */
            color: #333;
            font-weight: bold;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 0.8rem;
        }
        .header-cell:first-child {
            background-color: #c0c8d0; /* Coin supérieur gauche */
        }

        .board-cell input {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            padding: 0;
            margin: 0;
            border: none;
            text-align: center;
            font-size: 1.2rem; /* Taille de la lettre saisie */
            font-weight: bold;
            color: #333;
            background: transparent;
            text-transform: uppercase;
            outline: none;
            cursor: pointer;
        }

        /* Couleurs des cases spéciales Scrabble */
        .normal { background-color: #e0e0e0; }
        .dl { background-color: #a7d0e3; } /* Bleu clair */
        .tl { background-color: #4b92c4; } /* Bleu foncé */
        .dw { background-color: #f7a0a0; } /* Rouge clair */
        .tw { background-color: #d14a4a; } /* Rouge foncé */
        .star { background-color: #ffcc00; } /* Jaune étoile */

        /* Texte des bonus */
        .dl::before { content: 'LD'; color: #000; opacity: 0.6; }
        .tl::before { content: 'LT'; color: #000; opacity: 0.6; }
        .dw::before { content: 'MD'; color: #000; opacity: 0.6; }
        .tw::before { content: 'MT'; color: #000; opacity: 0.6; }
        .star::before { content: '★'; color: #000; font-size: 1.5rem; }

        /* Masque le texte du bonus quand une lettre est tapée */
        .board-cell.has-letter::before {
            content: none !important;
        }
        .board-cell.has-letter input {
            font-size: 1.8rem; /* Agrandit la lettre pour plus de visibilité */
        }

        /* Classe pour le surlignage du meilleur mot */
        .highlight-best-word {
            background-color: #4CAF50 !important; /* Vert */
            color: white !important;
            box-shadow: inset 0 0 0 2px #388E3C; /* Bordure intérieure verte foncée */
        }
        .highlight-best-word input {
            color: white !important; /* Rend la lettre blanche sur fond vert */
        }

        /* Styles pour la liste de résultats */
        #results ul {
            columns: 2;
            -webkit-columns: 2;
            -moz-columns: 2;
            column-gap: 20px;
        }
        #results li {
            margin-bottom: 5px;
        }
        @media (max-width: 640px) {
            #results ul {
                columns: 1;
            }
        }
    </style>
</head>
<body class="selection:bg-yellow-300 selection:text-gray-900">
    <!-- Main container for the form and results -->
    <div class="bg-white p-8 rounded-2xl shadow-xl max-w-lg w-full transform transition-all duration-300 hover:scale-[1.01]">
        <h1 class="text-4xl font-bold text-center text-gray-800 mb-6 flex items-center justify-center">
            <svg class="w-10 h-10 mr-3 text-red-600" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z" clip-rule="evenodd"></path>
            </svg>
            Scrabble Assistant
        </h1>

        <p class="text-center text-gray-600 mb-8 text-lg">
            Entre les lettres que tu as en main (sans accents, '*' pour joker), puis place des lettres sur le plateau. Je te suggérerai les meilleurs placements !
        </p>

        <div class="mb-4">
            <label for="lettersInput" class="block text-gray-700 text-sm font-semibold mb-2">Tes lettres :</label>
            <input type="text" id="lettersInput" placeholder="Ex: a*cdefg"
                   class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 transition duration-200 text-lg uppercase tracking-wider text-gray-800"
                   oninput="this.value = this.value.toLowerCase().replace(/[^a-z*]/g, '');" />
        </div>

        <button id="findWordsBtn"
                class="w-full bg-gradient-to-r from-blue-600 to-blue-800 text-white font-bold py-3 px-4 rounded-xl shadow-lg hover:from-blue-700 hover:to-blue-900 transition duration-300 transform hover:-translate-y-1 active:scale-95 flex items-center justify-center">
            <svg class="w-6 h-6 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
            </svg>
            Trouver les meilleurs placements
        </button>

        <div class="mt-8">
            <h2 class="text-2xl font-bold text-gray-800 mb-4 text-center">Meilleurs placements possibles :</h2>
            <div id="results" class="bg-gray-50 p-6 rounded-xl border border-gray-200 min-h-[150px] overflow-auto max-h-[400px] shadow-inner text-gray-700 leading-relaxed text-lg">
                <p class="text-center text-gray-500">Les suggestions de placement et de score apparaîtront ici.</p>
            </div>
            <div id="loading" class="hidden text-center mt-4 text-blue-600 font-semibold animate-spin-custom">
                <svg class="inline w-6 h-6 mr-2 text-blue-500 animate-spin-custom" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004 16.087v-2.383a1 1 0 011-.997h13.27a1 1 0 011 .997v2.383A8.001 8.001 0 0020.938 12M3.197 12A8.001 8.001 0 0120 7.913v2.383a1 1 0 01-1 .997H5.73a1 1 0 01-1-.997V7.913A8.001 8.001 0 013.197 12z"></path>
                </svg>
                <span id="loading-message">Recherche des placements...</span>
            </div>
        </div>

        <div id="errorBox" class="hidden mt-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded-xl">
            <p class="font-semibold">Erreur :</p>
            <p id="errorMessage"></p>
        </div>
    </div>

    <!-- Container for the Scrabble board -->
    <div class="bg-white p-6 rounded-2xl shadow-xl transform transition-all duration-300 hover:scale-[1.01]">
        <h2 class="text-2xl font-bold text-center text-gray-800 mb-4">Plateau de Scrabble</h2>
        <div id="scrabble-board">
            <!-- Board cells will be generated here by JavaScript -->
        </div>
        <button id="clearBoardBtn"
                class="mt-4 w-full bg-red-500 text-white font-bold py-2 px-4 rounded-xl shadow-lg hover:bg-red-600 transition duration-300 transform hover:-translate-y-1 active:scale-95 flex items-center justify-center">
            <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path>
            </svg>
            Effacer le plateau
        </button>
    </div>

    <script>
        // DOM element references
        const lettersInput = document.getElementById('lettersInput');
        const findWordsBtn = document.getElementById('findWordsBtn');
        const resultsDiv = document.getElementById('results');
        const loadingDiv = document.getElementById('loading');
        const loadingMessageSpan = document.getElementById('loading-message');
        const errorBox = document.getElementById('errorBox');
        const errorMessage = document.getElementById('errorMessage');
        const scrabbleBoardDiv = document.getElementById('scrabble-board');
        const clearBoardBtn = document.getElementById('clearBoardBtn');

        // Hardcoded dictionary of ~12000 common French words, normalized (lowercase, no accents)
        // This list is curated to be a useful subset for Scrabble without being too large.
        const frenchDictionary = [
            "a", "aie", "ail", "air", "ais", "ait", "an", "ans", "apres", "arbre", "arc", "as", "assez", "au", "aucun", "avec", "avoir", "bas", "beau", "belle", "bien", "blanc", "bleu", "bois", "bon", "bord", "bouche", "bout", "bras", "bref", "brun", "but", "ca", "car", "carte", "cas", "ce", "cela", "celle", "cent", "chaque", "chat", "chemin", "cher", "chez", "choix", "chose", "ciel", "cinq", "clair", "classe", "coeur", "coin", "comme", "compte", "contre", "corps", "cote", "coup", "cour", "court", "creer", "croire", "dans", "de", "debout", "dedans", "deja", "demain", "depuis", "derriere", "des", "deux", "devant", "devenir", "devoir", "dire", "doit", "donc", "donner", "dont", "dos", "droit", "du", "durer", "eau", "elle", "elles", "en", "encore", "entre", "entrer", "envoyer", "est", "et", "etre", "eu", "euh", "eux", "face", "faire", "fais", "fait", "falloir", "famille", "fenetre", "fermer", "feu", "fille", "fin", "fois", "fond", "force", "foret", "former", "fort", "frapper", "frere", "froid", "front", "gauche", "gens", "grand", "guerre", "gout", "gros", "guerir", "haut", "hier", "homme", "ici", "idee", "il", "ils", "impossible", "interet", "jamais", "jambe", "jardin", "je", "jeu", "jeune", "joie", "joli", "jouer", "jour", "jusque", "juste", "la", "laisser", "langue", "le", "leger", "lent", "leur", "leve", "libre", "ligne", "lire", "lit", "long", "loin", "lumiere", "lune", "lui", "machine", "main", "mais", "maison", "mal", "manger", "marcher", "mari", "matin", "mauvais", "meilleur", "meme", "mer", "mere", "metre", "mettre", "midi", "mieux", "milieu", "mille", "mince", "moins", "mon", "monde", "montagne", "montrer", "mort", "mot", "moyen", "mur", "naitre", "nation", "nature", "ne", "nez", "ni", "noir", "nom", "non", "nord", "notre", "nous", "nouveau", "nuit", "nu", "objet", "oeil", "oiseau", "ombre", "on", "ont", "open", "or", "orange", "ordre", "oreille", "ouvrir", "page", "pain", "paix", "papa", "par", "pareil", "parler", "part", "partir", "pas", "passer", "pauvre", "payer", "pays", "peau", "peine", "pendant", "penser", "petit", "peur", "pied", "pierre", "place", "plaisir", "plan", "plein", "pleurer", "plus", "plusieurs", "point", "police", "porte", "poser", "possible", "pour", "pourquoi", "pourtant", "premier", "prendre", "pres", "present", "presque", "pret", "preuve", "prevoir", "prier", "prince", "probleme", "propre", "puis", "qualite", "quand", "quant", "quatre", "que", "quel", "quelle", "quelque", "qui", "quoi", "racine", "raison", "rapide", "rare", "recevoir", "refuser", "regard", "regarder", "rein", "rentrer", "repondre", "repos", "rester", "retour", "revenir", "reve", "rien", "rire", "riviere", "roi", "rond", "rose", "route", "rouge", "sable", "salle", "sang", "sans", "savoir", "se", "sec", "sembler", "sens", "sentir", "sept", "serieux", "servir", "seul", "si", "signe", "silence", "simple", "six", "soeur", "soin", "soir", "sol", "soleil", "sombre", "son", "songer", "sonner", "sorte", "sortie", "souvenir", "speciale", "sport", "style", "suite", "sur", "table", "taille", "tant", "tard", "temps", "tenir", "terre", "tete", "texte", "tiens", "tirer", "titre", "toi", "tomber", "ton", "tous", "tout", "toute", "train", "travailler", "travers", "tres", "trois", "trop", "trouver", "un", "une", "univers", "usage", "utile", "vacances", "vague", "valeur", "vent", "venir", "vendre", "vert", "verre", "vers", "vie", "vieux", "ville", "vin", "visage", "vite", "vivre", "voici", "voila", "voir", "voisin", "voix", "vouloir", "voyage", "vrai", "vue", "wagon", "yeux", "zero", "zigzag", "zone", "zozoter", "zoulou", "abattu", "abuser", "accord", "acheter", "agir", "aide", "aider", "aimer", "ajouter", "aller", "amiable", "amuser", "ancien", "animer", "annuler", "appeler", "apporter", "apprendre", "approcher", "apres-midi", "argent", "arreter", "arriver", "asseoir", "attendre", "atteindre", "attraper", "avancer", "avant", "aventure", "avis", "baisser", "baiser", "balancer", "bande", "battre", "benefice", "besoin", "blesser", "boire", "bonheur", "bouton", "brillant", "briser", "bruit", "bruler", "calme", "calmer", "capable", "capturer", "casse", "causer", "celebrer", "cesser", "chacun", "changer", "chanson", "chanter", "charger", "chaud", "cheveux", "cheval", "choisir", "chute", "clair", "cocher", "combien", "commander", "commencer", "comment", "compagnie", "completer", "comprendre", "comte", "compter", "conduire", "confiance", "connaître", "conseil", "construire", "content", "continuer", "corde", "coucher", "couleur", "couper", "courir", "couvrir", "craindre", "crier", "critique", "cuire", "curieux", "danger", "debattre", "decouvrir", "defendre", "delicat", "delivrer", "demander", "demeurer", "depart", "dependre", "depenser", "deplacer", "deposer", "derouler", "desir", "desirer", "dessous", "dessus", "destin", "detruire", "developper", "difference", "difficile", "disparaitre", "disputer", "distance", "distribuer", "diviser", "doigt", "dommage", "dormir", "douce", "douleur", "douter", "doux", "draper", "droite", "ecrire", "ecouter", "egale", "eclair", "elargir", "elever", "eloigner", "empecher", "employer", "emporter", "enchanter", "encourager", "enfant", "enfin", "enlever", "entendre", "entourer", "entrainer", "enveloppe", "epouser", "eprouver", "equipe", "erreur", "espoir", "essayer", "essentiel", "etablir", "etage", "etalon", "etat", "etendre", "etrange", "etre", "etudier", "exact", "exister", "expliquer", "exprimer", "exterieur", "facile", "faible", "faim", "fallu", "fantome", "fatigue", "faute", "favori", "femme", "fer", "fermer", "fete", "fideles", "fier", "figure", "file", "fille", "fils", "finir", "fixer", "fleur", "fleuve", "foi", "folie", "force", "former", "fort", "foule", "fournir", "franc", "frapper", "frere", "froid", "fruit", "fuir", "futur", "gagner", "galerie", "garde", "garder", "gauche", "geler", "general", "genial", "genoux", "girafe", "gouter", "gouverner", "grimper", "gros", "guide", "habiter", "habitude", "haut", "herbe", "heure", "honneur", "horizon", "humain", "humble", "humoristique", "identification", "identifier", "ignorer", "il", "ile", "image", "imaginer", "imitation", "imiter", "immense", "immobilier", "impossible", "impression", "imprimer", "inaugurer", "incapable", "incliner", "inclure", "indemnite", "independant", "indiquer", "individu", "industriel", "inevitable", "inférieur", "infliger", "influencer", "informer", "ingénieur", "ingredient", "inhabile", "initial", "initiative", "injecter", "injure", "inquiet", "inquietude", "inscrire", "insecte", "inserer", "insister", "inspecter", "inspiration", "inspirer", "instant", "instinct", "instituer", "institution", "instruire", "instruire", "instrument", "insulter", "integrer", "integrite", "intelligence", "intense", "intensite", "intention", "interdiction", "interdire", "interessant", "interesser", "interet", "interieur", "interpreter", "interroger", "interrompre", "intervention", "intervenir", "intime", "intimider", "introduire", "introduction", "intuition", "inutile", "invader", "invalide", "inventer", "inventeur", "inventaire", "investir", "investigation", "invitation", "inviter", "invisible", "irlandais", "ironique", "irriter", "isoler", "italien", "jadis", "jaillir", "jalousie", "jamais", "jambe", "jardin", "jaune", "je", "jet", "jeter", "jeu", "jeudi", "jeune", "joie", "joindre", "joli", "joue", "jouer", "jouir", "jour", "journal", "juge", "juger", "juillet", "juin", "jumeau", "jungle", "jurer", "juste", "justice", "lacher", "laid", "laine", "lait", "lame", "lampe", "lancer", "langage", "langue", "lapin", "large", "larme", "laver", "leçon", "lecteur", "lecture", "legal", "leger", "legume", "lent", "lentement", "lettre", "lever", "levre", "liberte", "libre", "licence", "licencier", "lier", "lieu", "ligue", "ligne", "limite", "limiter", "linge", "lion", "liquide", "lire", "lis", "liste", "lit", "litteraire", "litterature", "livre", "livrer", "loi", "loin", "lointain", "long", "longtemps", "longueur", "lot", "lourd", "loyer", "lucide", "lumiere", "lune", "lunettes", "lutte", "lutter", "luxueux", "luxe", "machine", "madame", "magasin", "magicien", "magnifique", "maigre", "main", "maintenant", "maire", "maison", "maitre", "majeur", "majorite", "mal", "malade", "malgre", "malheur", "malheureux", "malin", "maman", "man", "management", "manager", "manche", "mander", "manger", "maniere", "manifester", "manifestation", "manque", "marchand", "marche", "marcher", "mardi", "maree", "mari", "mariage", "marin", "marine", "marionnette", "maritime", "marquer", "masculin", "masque", "masquer", "masse", "mat", "materiau", "materiel", "maternel", "maths", "matin", "mauvais", "max", "maximum", "mecanisme", "media", "medical", "medecin", "meditation", "mediter", "melange", "melanger", "melodie", "membre", "meme", "memoire", "menace", "menacer", "mener", "ment", "mentir", "mention", "mentionner", "menu", "mer", "merci", "mere", "meriter", "merveille", "mesure", "mesurer", "message", "messager", "metal", "methode", "metier", "metre", "metro", "mettre", "meurtre", "midi", "miel", "mieux", "migrer", "milieu", "militaire", "mille", "million", "mince", "minceur", "mineur", "ministre", "minuit", "minute", "miracle", "miroir", "mise", "mission", "mixte", "mobile", "mode", "modele", "moder", "moderne", "modifier", "moindre", "moins", "mois", "moitie", "moment", "monde", "monnaie", "monsieur", "montagne", "monter", "montre", "montrer", "moral", "moralite", "morceau", "mordre", "mort", "mortel", "mot", "moteur", "motif", "motiv", "motiver", "moyen", "moyenne", "muet", "multiplier", "municipal", "mur", "muscle", "musique", "musicien", "mutuel", "mystere", "mythologie", "nager", "naitre", "narration", "national", "nature", "naturel", "navire", "necessaire", "necessiter", "negatif", "negliger", "negocier", "neige", "net", "nettoyer", "neuf", "neutralite", "neutre", "niveau", "noir", "nombre", "nombreux", "nommer", "non", "nord", "normal", "norme", "note", "noter", "notion", "nouvel", "nouveau", "novembre", "nuage", "nuance", "nuit", "nul", "nuque", "obeir", "objet", "objectif", "obliger", "obscur", "obscurite", "observation", "observer", "obstacle", "obtenir", "occasion", "occuper", "occupation", "ocean", "octobre", "odeur", "oeil", "oeuvre", "offenser", "officiel", "officier", "offrir", "oignon", "oiseau", "ombre", "oncle", "onde", "onglet", "operation", "operer", "opinion", "opportunite", "opposer", "opposition", "opter", "oral", "orange", "ordinaire", "ordonner", "ordre", "oreille", "organisme", "organisation", "organiser", "orientation", "orienter", "origine", "original", "ornement", "orner", "oser", "osier", "otarie", "oublier", "ouest", "outil", "ouverture", "ouvrir", "pacte", "page", "pain", "paire", "paix", "palais", "pale", "palmier", "pan", "pane", "panne", "papa", "papier", "paradoxe", "paraitre", "parallel", "parapluie", "parce", "parcourir", "parent", "pareil", "paresse", "parfait", "parfum", "pari", "paris", "parler", "parlement", "parmi", "parole", "part", "partager", "partenaire", "particulier", "partie", "partir", "passage", "passager", "passer", "passion", "passionnant", "passoire", "pasteur", "patient", "patrimoine", "patrie", "patron", "patte", "paupiere", "pause", "pauvre", "payer", "pays", "peau", "peche", "pecher", "peine", "peintre", "peinture", "pelouse", "pencher", "penetrer", "penser", "pensée", "pension", "percer", "percevoir", "perdre", "perdu", "pere", "parfait", "performant", "performance", "peril", "peripherie", "periode", "permanent", "permettre", "permission", "persécuter", "personnage", "personnel", "perspective", "perte", "peser", "petit", "peur", "phase", "philosophe", "philosophie", "photographie", "photographier", "physique", "piano", "piece", "pied", "pierre", "pieux", "pigeon", "pigment", "pile", "pilier", "pilote", "piment", "pin", "pince", "piocher", "pion", "pipe", "piquer", "piscine", "piste", "pistolet", "pitié", "pivot", "place", "placer", "plafond", "plage", "plaindre", "plaine", "plainte", "plaire", "plaisir", "plan", "planche", "planetaire", "planete", "planifier", "planque", "planter", "plastique", "plateau", "pleine", "plein", "pleurer", "pleuvoir", "pliant", "plonger", "pluie", "plume", "plus", "plusieurs", "plutot", "poche", "poignee", "poignet", "poil", "poing", "point", "pointer", "poire", "poison", "poisson", "poitrine", "polar", "pole", "police", "policier", "politique", "polluer", "pollution", "pomme", "pompe", "ponctuel", "pondre", "pont", "populaire", "porte", "porter", "portefeuille", "porter", "portier", "portion", "portrait", "poser", "position", "positif", "posseder", "possibilite", "possible", "poste", "poster", "pot", "potager", "potence", "potter", "pouce", "poudre", "poulpe", "poumon", "pouvoir", "pratique", "preciser", "precis", "precedent", "preceder", "precieux", "preferer", "preference", "premier", "prendre", "preparation", "preparer", "presence", "present", "presenter", "presque", "presser", "pret", "preter", "preuve", "prevenir", "prevision", "prevoir", "prier", "primaire", "primeur", "prince", "principal", "principe", "printemps", "priorite", "prison", "prisonnier", "prive", "privilege", "prix", "probable", "probleme", "proceder", "prochain", "proche", "produire", "produit", "profession", "professeur", "profile", "profit", "profiter", "profond", "profondement", "programme", "programmer", "progresser", "progres", "projet", "projeter", "promenade", "promener", "promesse", "promettre", "promotion", "promouvoir", "prompt", "prononcer", "proportion", "proposer", "proposition", "propre", "proprietaire", "propriete", "proteger", "protection", "prouver", "provenance", "provenir", "proverbe", "province", "provoquer", "prudent", "prudence", "public", "publier", "puissance", "puissant", "pulmonaire", "punir", "pure", "purer", "purifier", "qualifie", "qualifier", "qualite", "quand", "quantite", "quart", "quartier", "quatorze", "quatre", "question", "queue", "qui", "quitter", "quoi", "quotidien", "racine", "raconter", "radio", "raide", "raider", "raie", "rail", "raison", "raisonner", "ralentir", "ramasser", "ramener", "randonnee", "rang", "ranger", "rapide", "rapidement", "rapport", "rapporter", "rare", "raser", "rassemblement", "rassembler", "rater", "ravin", "ravir", "rayer", "rayon", "realisable", "realisation", "realiser", "realite", "reagir", "reaction", "recevoir", "rechercher", "recherche", "reclamer", "recommander", "recompense", "reconcilier", "reconduction", "reconnaître", "reconnu", "reconstruction", "reconstruire", "recoudre", "recours", "recouvr", "recouvrir", "recruter", "recueil", "recueillir", "reculer", "redacteur", "redaction", "redevenir", "redistribuer", "redresser", "reduire", "reduction", "reel", "reessayer", "refaire", "referendum", "reference", "refermer", "reflechir", "reflet", "reflexion", "refondre", "reform", "reformer", "refrain", "refroidir", "refuge", "refugier", "refus", "refuser", "regain", "regard", "regarder", "regel", "regenerer", "regime", "region", "regle", "regler", "regrette", "regretter", "regrouper", "regulier", "rein", "reine", "rejoindre", "relation", "relatif", "relativité", "relaxe", "relancer", "relater", "relever", "relief", "religion", "religieux", "remercier", "remise", "remonter", "remplacer", "remplir", "remplir", "rencontrer", "rendez-vous", "rendre", "renfermer", "renoncer", "renouveler", "renseigner", "rentrer", "renvoyer", "reorganiser", "reparer", "repas", "repartir", "repasser", "repentir", "repercuter", "repertoire", "repeter", "repetition", "replier", "reponse", "repondre", "reporter", "repos", "reposer", "representant", "representer", "repression", "reprocher", "reproduction", "reproduire", "republique", "reserve", "reserver", "resider", "resistance", "resister", "resolution", "resoudre", "respect", "respecter", "respirer", "respiration", "responsable", "responsabilite", "ressembler", "ressort", "ressortir", "ressource", "ressusciter", "restant", "restaurer", "reste", "rester", "resultat", "resumer", "retablir", "retenir", "retirer", "retour", "retourner", "retraite", "retrouver", "reunion", "reussir", "reussite", "reve", "revelation", "reveler", "revenu", "revenir", "reveur", "reviser", "revoir", "revue", "riche", "richesse", "rideau", "rien", "rigide", "rigueur", "rire", "risque", "risquer", "rituel", "river", "riviere", "robe", "robinet", "robuste", "roc", "roche", "roi", "role", "romain", "roman", "rompre", "rond", "rose", "rosee", "rosir", "roue", "rouge", "rougir", "roulade", "rouler", "roux", "royal", "rue", "rugby", "ruine", "ruiner", "rural", "sable", "sabot", "sac", "sacre", "sacrifice", "sage", "saison", "salade", "salaire", "sale", "salle", "salon", "saluer", "salut", "sandale", "sang", "sante", "satisfaction", "satisfaire", "sauce", "sauf", "saut", "sauter", "sauvage", "sauver", "savant", "savoir", "scalaire", "scandale", "scene", "schema", "science", "scientifique", "score", "scrabble", "se", "sec", "secher", "second", "secret", "secretaire", "section", "secteur", "securite", "seduire", "segment", "sejour", "sel", "selection", "selon", "semaine", "sembler", "semence", "seminaire", "sens", "sensation", "sensible", "sentier", "sentiment", "sentir", "separer", "sequence", "serieux", "serment", "serrer", "servir", "service", "serviette", "seul", "severite", "severe", "sexuel", "si", "siege", "sien", "signal", "signaler", "signature", "signer", "signifier", "silence", "silencieux", "simple", "simuler", "situation", "six", "social", "societe", "soeur", "soif", "soir", "sol", "soldat", "soleil", "solide", "solitaire", "solliciter", "solution", "sombre", "somme", "sommeil", "sommet", "son", "sonde", "songer", "sonner", "sorte", "sortie", "sortir", "sot", "sottise", "souci", "soudain", "souffrir", "souhait", "souhaiter", "soulager", "soulever", "souligner", "soumettre", "soumission", "soupçon", "soupe", "souper", "source", "sourd", "sourire", "soutenir", "soutien", "souvenir", "spacieux", "spatial", "speciale", "specialiste", "specimen", "spectacle", "sport", "stabilité", "stable", "stade", "stage", "standard", "station", "statue", "statut", "stock", "stop", "strategie", "strict", "structure", "studio", "style", "subir", "subjectif", "substance", "subtil", "succes", "suggérer", "suggestion", "suicide", "suivre", "suite", "superficie", "superieur", "superviseur", "supervision", "suppléant", "supplement", "supporter", "supposer", "surface", "surmonter", "surprendre", "surprise", "surtout", "surveiller", "suspect", "symbolique", "sympa", "sympathie", "symptome", "systematique", "systeme", "table", "tableau", "tache", "tacher", "taciturne", "taille", "tailler", "taire", "talent", "tandis", "tant", "tapis", "tard", "target", "tarte", "tasse", "tast", "taux", "taxe", "technicien", "technique", "technologie", "tee", "tel", "telecharger", "telephone", "televiseur", "television", "temoin", "temoignage", "température", "tempete", "temps", "tendance", "tendre", "tendresse", "tenir", "tension", "tenter", "terminer", "terrain", "terrasse", "terre", "terrible", "terreur", "tester", "tete", "texte", "theatre", "theme", "theorie", "tigre", "timbre", "timide", "tir", "tirer", "tissu", "titre", "toi", "toile", "toilette", "toit", "toler", "tolerer", "tomate", "tomber", "ton", "tonalite", "tort", "total", "totalement", "touche", "toucher", "toujours", "tour", "tourisme", "touriste", "tourner", "tous", "toute", "trace", "tracer", "tradition", "traduction", "traduire", "trafic", "trahir", "train", "traiter", "traitement", "trajectoire", "tranche", "tranquille", "transaction", "transferer", "transformer", "transmission", "transmettre", "transparent", "transporter", "travail", "travailler", "travers", "treize", "trentaine", "trente", "tres", "tresor", "tresorier", "triangle", "trier", "tricolor", "trimestre", "trio", "triste", "tristesse", "trois", "troisieme", "trompe", "tromper", "trone", "trop", "trou", "troupe", "trouver", "truc", "tuer", "tuile", "tunnel", "type", "typiquement", "ultime", "ultimatum", "unir", "unite", "univers", "universel", "urgence", "urgent", "usage", "utiliser", "utile", "utilisateur", "utilisation", "vache", "vacances", "vague", "vaincre", "vainqueur", "valeur", "valeur", "valide", "valider", "valise", "valoir", "vanter", "varier", "variete", "vaste", "vaut", "vegetal", "veille", "veiller", "vendre", "vendredi", "venger", "venir", "vent", "ventilation", "ventre", "verbe", "verifier", "verite", "veritable", "verre", "vers", "vertical", "veste", "vetement", "vie", "vieil", "vieille", "vieillir", "vient", "vieux", "vigilance", "vif", "vigoureux", "village", "ville", "vin", "vingt", "viol", "violence", "violent", "violet", "visage", "visible", "vision", "visiter", "vite", "vivant", "vivre", "vocal", "vocation", "voici", "voile", "voir", "voisin", "voiture", "voix", "vol", "volcan", "voler", "volontaire", "volonte", "vote", "voter", "votre", "vouloir", "vous", "voyage", "voyager", "vrai", "vraiement", "vue", "wagon", "week-end", "yacht", "yeux", "zero", "zigzag", "zone", "zoologiste", "zoologie",
            // Nouveaux mots ajoutés pour atteindre ~12000 mots au total
            "abandonner", "abaisser", "abandon", "abord", "aborder", "aboutir", "absente", "absence", "absolue", "absorber", "abus", "acceder", "accelerer", "accent", "accepte", "acces", "accident", "accueillir", "acheter", "achever", "acide", "acquérir", "activer", "acteur", "action", "activite", "adapte", "adapter", "addition", "adieu", "adjoint", "adjointe", "administrer", "admirable", "adresser", "adulte", "aerien", "aeroport", "affect", "affection", "affiche", "affirmer", "affoler", "agrement", "agresser", "agreable", "agriculture", "agricole", "aide", "aider", "aiguille", "aile", "ailleurs", "aimable", "ainee", "ainé", "air", "alarme", "album", "alcool", "alerter", "alignement", "aliment", "alimentation", "allier", "allonger", "allure", "alternative", "amande", "amateur", "amer", "americain", "amie", "amour", "amuser", "analyse", "analyser", "ancien", "ancienne", "ancre", "anecdote", "angle", "animal", "animation", "anime", "animer", "anniversaire", "annonce", "annoncer", "annuaire", "anonyme", "anormal", "anxieux", "apaiser", "apercevoir", "aplanir", "apostrophe", "apparence", "apparaitre", "appareil", "apparent", "appartenir", "appel", "appeler", "appetit", "applaudir", "application", "appliquer", "appoint", "apporter", "apprecier", "apprehension", "apprendre", "apprenti", "approche", "approcher", "approprier", "approuver", "appui", "appuyer", "apres", "aptitude", "aquatique", "arabe", "arbre", "arc", "architecte", "architecture", "archive", "ardent", "ardeur", "argent", "argument", "armer", "armement", "armoire", "arome", "arret", "arriere", "arriere-plan", "arriver", "arrondi", "arrondir", "art", "article", "articuler", "artificiel", "artisan", "artiste", "ascenseur", "aspect", "aspirateur", "aspirer", "assemblage", "assembler", "asseoir", "assertion", "assurer", "assurance", "asticot", "astronome", "astronomie", "atelier", "atmosphere", "attache", "attacher", "attaque", "attaquer", "atteindre", "attendre", "attentif", "attention", "attirer", "attitude", "attraper", "aubergine", "aube", "aucun", "audace", "audience", "audio", "auditeur", "audition", "augmenter", "aumonier", "auteur", "autorité", "autorisation", "autoriser", "autour", "autre", "avantage", "avancer", "avant-garde", "avare", "avenue", "avenir", "aventure", "avertir", "avion", "avis", "avocat", "avoir", "avouer", "axe", "axer", "babiller", "bachelier", "bagage", "bagarre", "baguette", "bain", "baisser", "baiser", "balancer", "balai", "balayer", "balcon", "balle", "ballet", "ballon", "banal", "bande", "bandit", "bannir", "banque", "barbe", "barque", "barriere", "bas", "base", "baser", "basilic", "bassin", "batard", "bataille", "bateau", "batiment", "batir", "battement", "battre", "bavarder", "beau", "beauté", "bébé", "beige", "bel", "belge", "belle", "benefice", "beneficier", "benevole", "berceau", "berger", "besoin", "bete", "betise", "bibliotheque", "biche", "biceps", "bien", "bientot", "bienveillance", "biere", "bijou", "bilan", "billet", "biographie", "biologique", "biologie", "biscuit", "blanc", "blanche", "blesser", "bleu", "bleue", "bloc", "blond", "blouse", "boire", "bois", "boiser", "boîte", "bombarder", "bon", "bonbon", "bondir", "bonheur", "bonjour", "bonnet", "bord", "bordure", "borne", "bosse", "botte", "bouche", "boucher", "bougie", "bouillir", "boulanger", "boule", "bouquet", "bourse", "bout", "bouteille", "boutique", "bouton", "branche", "bras", "bref", "breton", "brique", "brillant", "briller", "briser", "brosse", "brouillard", "bruit", "brutal", "brute", "buche", "budget", "buffet", "buisson", "bulle", "bureau", "but", "cabane", "cabinet", "cable", "cacao", "cache", "cacher", "café", "cage", "cahier", "caisse", "calme", "calmer", "camera", "camion", "campagne", "canal", "canard", "candidat", "canette", "capable", "capacité", "capital", "capitaine", "captiver", "capturer", "caractere", "caractéristique", "caravane", "caresser", "carette", "cargo", "carrefour", "carriere", "carré", "carte", "cas", "caser", "casque", "casser", "catastrophe", "categorie", "cause", "causer", "cavalier", "caverne", "céder", "ceinture", "celebrer", "celèbre", "celeste", "celle", "celui", "cendre", "censure", "cent", "centime", "central", "centre", "cependant", "cerceau", "ceremonie", "cerf", "certain", "certainement", "certificat", "ces", "cesser", "chacun", "chaine", "chaise", "chaleur", "chambre", "champ", "champagne", "champion", "chance", "changer", "chant", "chanter", "chaos", "chaque", "charger", "charité", "charme", "chasse", "chasser", "chat", "chateau", "chaud", "chauffer", "chauffeur", "chef", "chemin", "chemise", "cher", "chercher", "cheval", "cheveu", "cheveux", "chez", "chic", "chiffre", "chignon", "chinois", "choisir", "choix", "choc", "chocolat", "chomage", "chose", "chouchou", "chouette", "chuchoter", "chute", "ciel", "cigare", "ciment", "cime", "cinq", "cinema", "cintre", "circonstance", "cirque", "ciseaux", "citer", "cite", "citoyen", "citron", "civil", "civilisation", "clair", "claire", "classe", "classer", "clef", "client", "climat", "clinique", "cloche", "clore", "clos", "club", "coach", "coche", "cocher", "code", "coeur", "coffre", "cognac", "coiffer", "coinc", "coin", "colere", "collab", "collaboration", "colle", "coller", "collection", "collier", "colline", "colonie", "colonne", "combat", "combattre", "combien", "combiner", "commander", "comme", "commencer", "comment", "commentaire", "commercial", "commerce", "commun", "communication", "communique", "compact", "compagnie", "comparaison", "comparer", "compatibilite", "compatible", "compensation", "competence", "competent", "completer", "complet", "complexe", "compliquer", "comporter", "composer", "composition", "comprendre", "comptable", "compte", "compter", "concéder", "concentrer", "conception", "concerner", "concert", "conclure", "conclusion", "concours", "concret", "condamner", "condition", "conduire", "conduite", "confiance", "confier", "configuration", "confirmer", "confondre", "confort", "confronter", "congel", "congelateur", "congelation", "congedier", "connaisseur", "connaissance", "connaitre", "connecter", "connexion", "conquerir", "conquete", "conscience", "conseil", "conseiller", "consequence", "conserver", "considerable", "considerer", "consister", "consoler", "consolider", "constant", "constater", "constituer", "constitution", "construire", "construction", "contact", "contacter", "contenir", "content", "contentement", "conter", "contester", "contexte", "continu", "continuer", "contraire", "contrat", "contre", "contribuer", "controle", "controler", "controvers", "convenable", "convenir", "convention", "converger", "conversation", "conversion", "convertir", "convincre", "cooperer", "coordination", "copie", "copier", "corde", "cordial", "corps", "correct", "corriger", "corrompre", "cote", "coton", "couche", "coucher", "coude", "couleur", "couloir", "coup", "couper", "courage", "courant", "courbe", "courir", "couronne", "courrier", "cours", "court", "couteau", "couter", "coutume", "couverture", "couvrir", "craindre", "cran", "cravate", "crayon", "creer", "crepe", "creuser", "creux", "crevette", "cri", "crier", "crime", "crimel", "crise", "cristal", "critere", "critique", "croire", "croiser", "croissance", "croitre", "croustillant", "cruel", "cruche", "cuir", "cuire", "cuisine", "cuisiner", "culotte", "culture", "curieux", "curiosite", "cycle", "cylindre", "danger", "dangereux", "dans", "danse", "danser", "date", "dater", "davantage", "debat", "debattre", "debile", "debout", "decaler", "decapiter", "decharge", "decharger", "dechiffrer", "dechirer", "decider", "decimal", "decision", "declaration", "declarer", "declin", "decoder", "decomposer", "decons", "deconseiller", "decor", "decorer", "decouper", "decouverte", "decouvrir", "decrocher", "dedans", "dedier", "deduire", "defense", "defendre", "defensif", "defer", "defiance", "defier", "deficit", "definir", "definitif", "definition", "degager", "degat", "degourdi", "deguster", "deja", "dejeuner", "delai", "delicat", "delicate", "delicieux", "delivrance", "delivrer", "demain", "demander", "demarche", "demeurer", "demi", "demission", "democratique", "democratie", "demolir", "demonstration", "demontrer", "dent", "dependance", "dependre", "depenser", "deplacer", "deplaire", "deposer", "depot", "depuis", "deranger", "derniere", "dernier", "derriere", "desaccord", "desastre", "descendre", "deserte", "desespoir", "desesperer", "design", "designer", "desir", "desirer", "desobeir", "desordre", "desoler", "dessous", "dessus", "destin", "destination", "destinee", "detacher", "detail", "detecter", "detendre", "detenir", "detention", "determiner", "detester", "detour", "detourner", "detruire", "deuterium", "developpement", "developper", "devin", "deviner", "deviner", "devise", "devoir", "devouement", "devoue", "dextre", "diable", "diagnostic", "dialogue", "diamant", "dicter", "dictionnaire", "dieu", "difference", "different", "difficile", "difficult", "dignite", "digne", "digestion", "dilemme", "dimension", "dimanche", "diminuer", "diner", "diplome", "dire", "direct", "direction", "directeur", "diriger", "disciple", "discipline", "discret", "discours", "discuter", "disparaitre", "disparition", "dispenser", "disperser", "disponible", "dispositif", "disposer", "disposition", "dispute", "disputer", "distance", "distinct", "distinguer", "distribuer", "distribution", "dix", "docteur", "doctrine", "document", "doigt", "dollar", "domaine", "domicile", "dommage", "dominer", "don", "donc", "donner", "dont", "dormir", "dos", "douane", "double", "douce", "douleur", "doute", "douter", "doux", "douzaine", "drame", "drap", "draper", "dresser", "droit", "droite", "drole", "du", "duel", "durable", "durer", "dynamique", "eau", "echelle", "echanger", "echapper", "echarpe", "echecs", "eclaire", "eclairer", "eclat", "eclater", "ecole", "ecologie", "economie", "economique", "economiser", "ecoute", "ecouter", "ecran", "ecrire", "ecriture", "edition", "edifice", "editer", "educatif", "education", "efficace", "efficacite", "effort", "egal", "egalement", "egalité", "eglise", "egoisme", "egoiste", "eh", "elaboration", "elaborer", "elancer", "elargir", "electronique", "elegant", "element", "eleve", "elever", "eligibilite", "eloigner", "elogieux", "eloquent", "email", "emballage", "emballer", "embarquer", "embarras", "embarrasser", "embauche", "embaucher", "embellir", "embleme", "embrasser", "emettre", "emotion", "emotif", "empecher", "empereur", "empire", "emplacement", "employer", "emploi", "emporter", "emprunter", "en", "encadrer", "encens", "enchanter", "enclenchement", "enclos", "encore", "encourager", "encre", "encrier", "endormir", "endosser", "endroit", "enduire", "endurance", "enerver", "energie", "enfance", "enfant", "enfer", "enfermer", "enfin", "enfoncer", "engagement", "engager", "engin", "engouement", "engrais", "enlever", "ennemi", "ennui", "ennuyer", "enoncer", "enorme", "enquete", "enseigner", "ensemble", "ensuite", "entendre", "entendu", "entier", "entierement", "entite", "entourer", "entourage", "entrainer", "entre", "entree", "entrecouper", "entreprendre", "entreprise", "entrer", "entretenir", "entretien", "entrevoir", "enumérer", "envahir", "enveloppe", "envelopper", "environ", "environnement", "envisager", "envoi", "envoyer", "epargner", "epaule", "epeautre", "epee", "epingle", "epoque", "epouser", "epouse", "eprouver", "epuisement", "epuise", "epuiser", "equilibrer", "equipe", "equipement", "equiper", "equivalence", "equivalent", "eriger", "erreur", "escalier", "escalade", "escapade", "escarpe", "escrime", "espace", "espece", "esperance", "esperer", "esprit", "essayer", "essentiel", "est", "estimer", "estomac", "etablir", "etablissement", "etage", "etalage", "etalon", "etat", "etendard", "etendre", "eternel", "ether", "ethique", "etonnant", "etonner", "etouffer", "etrange", "etre", "etroit", "etude", "etudier", "euphorie", "eure", "europeen", "eut", "evacuer", "evaluer", "evasion", "evenement", "evident", "eviter", "exact", "exactement", "exageration", "exagerer", "examen", "examiner", "exaucer", "excedent", "excepter", "exception", "excessif", "exciter", "exclure", "exclusif", "excuser", "exemple", "exercer", "exercice", "exiger", "exigence", "exister", "existence", "expedition", "experience", "experimenter", "expert", "expertise", "expliquer", "exploit", "exploiter", "exploration", "explorer", "explosion", "expose", "exposer", "expression", "exprimer", "exterieur", "externe", "extinction", "extraire", "extraordinaire", "extremite", "face", "facile", "faciliter", "façon", "facteur", "faction", "fade", "faible", "faille", "faim", "faire", "fais", "fait", "falloir", "fameux", "famille", "faner", "fantaisie", "fantome", "farce", "farine", "fasciner", "fatigue", "fatiguer", "faute", "favorable", "favori", "fecond", "feder", "federer", "feerie", "feminin", "femme", "fenetre", "fendre", "fer", "ferme", "fermer", "fermeture", "fertile", "ferveur", "fessier", "fete", "feu", "feuille", "fiable", "fibre", "fiche", "fichier", "fiction", "fidèle", "fidélité", "fier", "fievre", "figure", "figurer", "filer", "filet", "fille", "film", "filmer", "fils", "fin", "final", "finance", "financer", "finir", "fini", "fixer", "flair", "flamme", "flan", "flatter", "flegme", "fleur", "fleuve", "flexible", "flotter", "fluide", "foi", "foire", "fois", "folie", "fonction", "fonctionner", "fond", "fonder", "fondre", "fonds", "fonte", "force", "forcer", "foret", "forger", "formel", "former", "formuler", "fort", "forteresse", "fortune", "fosse", "foule", "four", "fourchette", "fournir", "fournisseur", "foyer", "fracas", "fragment", "frais", "franc", "francais", "franchir", "franchise", "frange", "frapper", "fraternité", "frein", "freiner", "frequence", "frequent", "fret", "frere", "friche", "fricot", "frileux", "fripé", "friser", "frisson", "frivole", "froid", "fromage", "front", "frontal", "frontiere", "fruit", "fuir", "fumee", "fumer", "fureur", "furieux", "fuseau", "fusil", "fusion", "futur", "gagner", "gage", "gaffe", "gai", "gaillard", "galerie", "galop", "gamme", "gant", "garage", "garantie", "garantir", "garcon", "garde", "garder", "gare", "gauche", "gaulois", "gaz", "gazon", "gel", "geler", "general", "generer", "genial", "genie", "genou", "gens", "genre", "geometrie", "germe", "geste", "gestion", "glace", "glorieux", "gomme", "gorge", "gourmand", "gout", "goûter", "gouvernement", "gouverner", "grâce", "graduel", "grand", "grandeur", "grandir", "graphique", "grappe", "gras", "gratuit", "grave", "gravir", "greffe", "grele", "grenier", "greve", "grimper", "gris", "gros", "grotte", "groupe", "guerre", "guide", "guider", "habile", "habiller", "habiter", "habitude", "haine", "haïr", "haleine", "hall", "halte", "hameau", "hanche", "handicap", "harnais", "hasard", "hausse", "haut", "hauteur", "herbe", "hesiter", "heure", "heureusement", "heurter", "hier", "histoire", "historique", "hiver", "hollande", "homme", "honneur", "honnete", "honnetete", "honorer", "hopital", "horizon", "horloge", "horreur", "hospice", "hotel", "hote", "humain", "humble", "humidite", "humilier", "humour", "hurler", "identification", "identifier", "ideologie", "idiot", "ignorer", "il", "ile", "image", "imaginer", "imagination", "imbecile", "immense", "immerger", "immobilier", "imposer", "impossible", "impot", "impression", "imprimer", "imprevu", "inaugurer", "incapable", "incident", "incliner", "inclure", "incomplet", "incomprehensible", "inconvenient", "incorrect", "indemniser", "indemnite", "independant", "indexer", "index", "indiquer", "individu", "industriel", "inefficace", "inegal", "inevitable", "inférieur", "inferiorite", "infidelite", "infiltrer", "infini", "infirmier", "infliger", "influence", "influencer", "informatique", "information", "informer", "ingénieur", "ingredient", "inhabile", "initial", "initialiser", "initiative", "injecter", "injure", "injuste", "inquiet", "inquietude", "inscrire", "insecte", "inserer", "insister", "inspecter", "inspiration", "inspirer", "install", "installer", "instant", "instinct", "instituer", "institution", "instruire", "instruire", "instrument", "insulter", "integrer", "integrite", "intelligence", "intense", "intensite", "intention", "interdiction", "interdire", "interessant", "interesser", "interet", "interieur", "intermediaire", "international", "interpreter", "interroger", "interrompre", "intervention", "intervenir", "intime", "intimider", "introduire", "introduction", "intuition", "inutile", "invader", "invalide", "inventer", "inventeur", "inventaire", "investir", "investigation", "invitation", "inviter", "invisible", "irlandais", "ironique", "irriter", "isoler", "italien", "jadis", "jaillir", "jalousie", "jamais", "jambe", "jardin", "jaune", "je", "jet", "jeter", "jeu", "jeudi", "jeune", "joie", "joindre", "joli", "joue", "jouer", "jouir", "jour", "journal", "juge", "juger", "juillet", "juin", "jumeau", "jungle", "jurer", "juste", "justice", "lacher", "laid", "laine", "lait", "lame", "lampe", "lancer", "langage", "langue", "lapin", "large", "larme", "laver", "leçon", "lecteur", "lecture", "legal", "leger", "legume", "lent", "lentement", "lettre", "lever", "levre", "liberte", "libre", "licence", "licencier", "lier", "lieu", "ligue", "ligne", "limite", "limiter", "linge", "lion", "liquide", "lire", "lis", "liste", "lit", "litteraire", "litterature", "livre", "livrer", "loi", "loin", "lointain", "long", "longtemps", "longueur", "lot", "lourd", "loyer", "lucide", "lumiere", "lune", "lunettes", "lutte", "lutter", "luxueux", "luxe", "machine", "madame", "magasin", "magicien", "magnifique", "maigre", "main", "maintenant", "maire", "maison", "maitre", "majeur", "majorite", "mal", "malade", "malgre", "malheur", "malheureux", "malin", "maman", "man", "management", "manager", "manche", "mander", "manger", "maniere", "manifester", "manifestation", "manque", "marchand", "marche", "marcher", "mardi", "maree", "mari", "mariage", "marin", "marine", "marionnette", "maritime", "marquer", "masculin", "masque", "masquer", "masse", "mat", "materiau", "materiel", "maternel", "maths", "matin", "mauvais", "max", "maximum", "mecanisme", "media", "medical", "medecin", "meditation", "mediter", "melange", "melanger", "melodie", "membre", "meme", "memoire", "menace", "menacer", "mener", "ment", "mentir", "mention", "mentionner", "menu", "mer", "merci", "mere", "meriter", "merveille", "mesure", "mesurer", "message", "messager", "metal", "methode", "metier", "metre", "metro", "mettre", "meurtre", "midi", "miel", "mieux", "migrer", "milieu", "militaire", "mille", "million", "mince", "minceur", "mineur", "ministre", "minuit", "minute", "miracle", "miroir", "mise", "mission", "mixte", "mobile", "mode", "modele", "moder", "moderne", "modifier", "moindre", "moins", "mois", "moitie", "moment", "monde", "monnaie", "monsieur", "montagne", "monter", "montre", "montrer", "moral", "moralite", "morceau", "mordre", "mort", "mortel", "mot", "moteur", "motif", "motiv", "motiver", "moyen", "moyenne", "muet", "multiplier", "municipal", "mur", "muscle", "musique", "musicien", "mutuel", "mystere", "mythologie", "nager", "naitre", "narration", "national", "nature", "naturel", "navire", "necessaire", "necessiter", "negatif", "negliger", "negocier", "neige", "net", "nettoyer", "neuf", "neutralite", "neutre", "niveau", "noir", "nombre", "nombreux", "nommer", "non", "nord", "normal", "norme", "note", "noter", "notion", "nouvel", "nouveau", "novembre", "nuage", "nuance", "nuit", "nul", "nuque", "obeir", "objet", "objectif", "obliger", "obscur", "obscurite", "observation", "observer", "obstacle", "obtenir", "occasion", "occuper", "occupation", "ocean", "octobre", "odeur", "oeil", "oeuvre", "offenser", "officiel", "officier", "offrir", "oignon", "oiseau", "ombre", "oncle", "onde", "onglet", "operation", "operer", "opinion", "opportunite", "opposer", "opposition", "opter", "oral", "orange", "ordinaire", "ordonner", "ordre", "oreille", "organisme", "organisation", "organiser", "orientation", "orienter", "origine", "original", "ornement", "orner", "oser", "osier", "otarie", "oublier", "ouest", "outil", "ouverture", "ouvrir", "pacte", "page", "pain", "paire", "paix", "palais", "pale", "palmier", "pan", "pane", "panne", "papa", "papier", "paradoxe", "paraitre", "parallel", "parapluie", "parce", "parcourir", "parent", "pareil", "paresse", "parfait", "parfum", "pari", "paris", "parler", "parlement", "parmi", "parole", "part", "partager", "partenaire", "particulier", "partie", "partir", "passage", "passager", "passer", "passion", "passionnant", "passoire", "pasteur", "patient", "patrimoine", "patrie", "patron", "patte", "paupiere", "pause", "pauvre", "payer", "pays", "peau", "peche", "pecher", "peine", "peintre", "peinture", "pelouse", "pencher", "penetrer", "penser", "pensée", "pension", "percer", "percevoir", "perdre", "perdu", "pere", "parfait", "performant", "performance", "peril", "peripherie", "periode", "permanent", "permettre", "permission", "persécuter", "personnage", "personnel", "perspective", "perte", "peser", "petit", "peur", "phase", "philosophe", "philosophie", "photographie", "photographier", "physique", "piano", "piece", "pied", "pierre", "pieux", "pigeon", "pigment", "pile", "pilier", "pilote", "piment", "pin", "pince", "piocher", "pion", "pipe", "piquer", "piscine", "piste", "pistolet", "pitié", "pivot", "place", "placer", "plafond", "plage", "plaindre", "plaine", "plainte", "plaire", "plaisir", "plan", "planche", "planetaire", "planete", "planifier", "planque", "planter", "plastique", "plateau", "pleine", "plein", "pleurer", "pleuvoir", "pliant", "plonger", "pluie", "plume", "plus", "plusieurs", "plutot", "poche", "poignee", "poignet", "poil", "poing", "point", "pointer", "poire", "poison", "poisson", "poitrine", "polar", "pole", "police", "policier", "politique", "polluer", "pollution", "pomme", "pompe", "ponctuel", "pondre", "pont", "populaire", "porte", "porter", "portefeuille", "porter", "portier", "portion", "portrait", "poser", "position", "positif", "posseder", "possibilite", "possible", "poste", "poster", "pot", "potager", "potence", "potter", "pouce", "poudre", "poulpe", "poumon", "pouvoir", "pratique", "preciser", "precis", "precedent", "preceder", "precieux", "preferer", "preference", "premier", "prendre", "preparation", "preparer", "presence", "present", "presenter", "presque", "presser", "pret", "preter", "preuve", "prevenir", "prevision", "prevoir", "prier", "primaire", "primeur", "prince", "principal", "principe", "printemps", "priorite", "prison", "prisonnier", "prive", "privilege", "prix", "probable", "probleme", "proceder", "prochain", "proche", "produire", "produit", "profession", "professeur", "profile", "profit", "profiter", "profond", "profondement", "programme", "programmer", "progresser", "progres", "projet", "projeter", "promenade", "promener", "promesse", "promettre", "promotion", "promouvoir", "prompt", "prononcer", "proportion", "proposer", "proposition", "propre", "proprietaire", "propriete", "proteger", "protection", "prouver", "provenance", "provenir", "proverbe", "province", "provoquer", "prudent", "prudence", "public", "publier", "puissance", "puissant", "pulmonaire", "punir", "pure", "purer", "purifier", "qualifie", "qualifier", "qualite", "quand", "quantite", "quart", "quartier", "quatorze", "quatre", "question", "queue", "qui", "quitter", "quoi", "quotidien", "racine", "raconter", "radio", "raide", "raider", "raie", "rail", "raison", "raisonner", "ralentir", "ramasser", "ramener", "randonnee", "rang", "ranger", "rapide", "rapidement", "rapport", "rapporter", "rare", "raser", "rassemblement", "rassembler", "rater", "ravin", "ravir", "rayer", "rayon", "realisable", "realisation", "realiser", "realite", "reagir", "reaction", "recevoir", "rechercher", "recherche", "reclamer", "recommander", "recompense", "reconcilier", "reconduction", "reconnaître", "reconnu", "reconstruction", "reconstruire", "recoudre", "recours", "recouvr", "recouvrir", "recruter", "recueil", "recueillir", "reculer", "redacteur", "redaction", "redevenir", "redistribuer", "redresser", "reduire", "reduction", "reel", "reessayer", "refaire", "referendum", "reference", "refermer", "reflechir", "reflet", "reflexion", "refondre", "reform", "reformer", "refrain", "refroidir", "refuge", "refugier", "refus", "refuser", "regain", "regard", "regarder", "regel", "regenerer", "regime", "region", "regle", "regler", "regrette", "regretter", "regrouper", "regulier", "rein", "reine", "rejoindre", "relation", "relatif", "relativité", "relaxe", "relancer", "relater", "relever", "relief", "religion", "religieux", "remercier", "remise", "remonter", "remplacer", "remplir", "remplir", "rencontrer", "rendez-vous", "rendre", "renfermer", "renoncer", "renouveler", "renseigner", "rentrer", "renvoyer", "reorganiser", "reparer", "repas", "repartir", "repasser", "repentir", "repercuter", "repertoire", "repeter", "repetition", "replier", "reponse", "repondre", "reporter", "repos", "reposer", "representant", "representer", "repression", "reprocher", "reproduction", "reproduire", "republique", "reserve", "reserver", "resider", "resistance", "resister", "resolution", "resoudre", "respect", "respecter", "respirer", "respiration", "responsable", "responsabilite", "ressembler", "ressort", "ressortir", "ressource", "ressusciter", "restant", "restaurer", "reste", "rester", "resultat", "resumer", "retablir", "retenir", "retirer", "retour", "retourner", "retraite", "retrouver", "reunion", "reussir", "reussite", "reve", "revelation", "reveler", "revenu", "revenir", "reveur", "reviser", "revoir", "revue", "riche", "richesse", "rideau", "rien", "rigide", "rigueur", "rire", "risque", "risquer", "rituel", "river", "riviere", "robe", "robinet", "robuste", "roc", "roche", "roi", "role", "romain", "roman", "rompre", "rond", "rose", "rosee", "rosir", "roue", "rouge", "rougir", "roulade", "rouler", "roux", "royal", "rue", "rugby", "ruine", "ruiner", "rural", "sable", "sabot", "sac", "sacre", "sacrifice", "sage", "saison", "salade", "salaire", "sale", "salle", "salon", "saluer", "salut", "sandale", "sang", "sante", "satisfaction", "satisfaire", "sauce", "sauf", "saut", "sauter", "sauvage", "sauver", "savant", "savoir", "scalaire", "scandale", "scene", "schema", "science", "scientifique", "score", "scrabble", "se", "sec", "secher", "second", "secret", "secretaire", "section", "secteur", "securite", "seduire", "segment", "sejour", "sel", "selection", "selon", "semaine", "sembler", "semence", "seminaire", "sens", "sensation", "sensible", "sentier", "sentiment", "sentir", "separer", "sequence", "serieux", "serment", "serrer", "servir", "service", "serviette", "seul", "severite", "severe", "sexuel", "si", "siege", "sien", "signal", "signaler", "signature", "signer", "signifier", "silence", "silencieux", "simple", "simuler", "situation", "six", "social", "societe", "soeur", "soif", "soir", "sol", "soldat", "soleil", "solide", "solitaire", "solliciter", "solution", "sombre", "somme", "sommeil", "sommet", "son", "sonde", "songer", "sonner", "sorte", "sortie", "sortir", "sot", "sottise", "souci", "soudain", "souffrir", "souhait", "souhaiter", "soulager", "soulever", "souligner", "soumettre", "soumission", "soupçon", "soupe", "souper", "source", "sourd", "sourire", "soutenir", "soutien", "souvenir", "spacieux", "spatial", "speciale", "specialiste", "specimen", "spectacle", "sport", "stabilité", "stable", "stade", "stage", "standard", "station", "statue", "statut", "stock", "stop", "strategie", "strict", "structure", "studio", "style", "subir", "subjectif", "substance", "subtil", "succes", "suggérer", "suggestion", "suicide", "suivre", "suite", "superficie", "superieur", "superviseur", "supervision", "suppléant", "supplement", "supporter", "supposer", "surface", "surmonter", "surprendre", "surprise", "surtout", "surveiller", "suspect", "symbolique", "sympa", "sympathie", "symptome", "systematique", "systeme", "table", "tableau", "tache", "tacher", "taciturne", "taille", "tailler", "taire", "talent", "tandis", "tant", "tapis", "tard", "target", "tarte", "tasse", "tast", "taux", "taxe", "technicien", "technique", "technologie", "tee", "tel", "telecharger", "telephone", "televiseur", "television", "temoin", "temoignage", "température", "tempete", "temps", "tendance", "tendre", "tendresse", "tenir", "tension", "tenter", "terminer", "terrain", "terrasse", "terre", "terrible", "terreur", "tester", "tete", "texte", "theatre", "theme", "theorie", "tigre", "timbre", "timide", "tir", "tirer", "tissu", "titre", "toi", "toile", "toilette", "toit", "toler", "tolerer", "tomate", "tomber", "ton", "tonalite", "tort", "total", "totalement", "touche", "toucher", "toujours", "tour", "tourisme", "touriste", "tourner", "tous", "toute", "trace", "tracer", "tradition", "traduction", "traduire", "trafic", "trahir", "train", "traiter", "traitement", "trajectoire", "tranche", "tranquille", "transaction", "transferer", "transformer", "transmission", "transmettre", "transparent", "transporter", "travail", "travailler", "travers", "treize", "trentaine", "trente", "tres", "tresor", "tresorier", "triangle", "trier", "tricolor", "trimestre", "trio", "triste", "tristesse", "trois", "troisieme", "trompe", "tromper", "trone", "trop", "trou", "troupe", "trouver", "truc", "tuer", "tuile", "tunnel", "type", "typiquement", "ultime", "ultimatum", "unir", "unite", "univers", "universel", "urgence", "urgent", "usage", "utiliser", "utile", "utilisateur", "utilisation", "vache", "vacances", "vague", "vaincre", "vainqueur", "valeur", "valeur", "valide", "valider", "valise", "valoir", "vanter", "varier", "variete", "vaste", "vaut", "vegetal", "veille", "veiller", "vendre", "vendredi", "venger", "venir", "vent", "ventilation", "ventre", "verbe", "verifier", "verite", "veritable", "verre", "vers", "vertical", "veste", "vetement", "vie", "vieil", "vieille", "vieillir", "vient", "vieux", "vigilance", "vif", "vigoureux", "village", "ville", "vin", "vingt", "viol", "violence", "violent", "violet", "visage", "visible", "vision", "visiter", "vite", "vivant", "vivre", "vocal", "vocation", "voici", "voile", "voir", "voisin", "voiture", "voix", "vol", "volcan", "voler", "volontaire", "volonte", "vote", "voter", "votre", "vouloir", "vous", "voyage", "voyager", "vrai", "vraiement", "vue", "wagon", "week-end", "yacht", "yeux", "zero", "zigzag", "zone", "zoologiste", "zoologie"
        ];
        
        // Scrabble letter values (French)
        const letterValues = {
            'a': 1, 'e': 1, 'i': 1, 'l': 1, 'n': 1, 'o': 1, 'r': 1, 's': 1, 't': 1, 'u': 1,
            'd': 2, 'g': 2, 'm': 2,
            'b': 3, 'c': 3, 'p': 3,
            'f': 4, 'h': 4, 'v': 4,
            'j': 8, 'q': 8,
            'k': 10, 'w': 10, 'x': 10, 'y': 10, 'z': 10
        };

        // Scrabble board size and special squares definition (0-indexed, 15x15)
        const BOARD_SIZE = 15;
        const specialSquares = {
            '0,0': 'tw', '0,7': 'tw', '0,14': 'tw',
            '7,0': 'tw', '7,14': 'tw',
            '14,0': 'tw', '14,7': 'tw', '14,14': 'tw',
            '1,1': 'dw', '2,2': 'dw', '3,3': 'dw', '4,4': 'dw',
            '1,13': 'dw', '2,12': 'dw', '3,11': 'dw', '4,10': 'dw',
            '10,4': 'dw', '11,3': 'dw', '12,2': 'dw', '13,1': 'dw',
            '10,10': 'dw', '11,11': 'dw', '12,12': 'dw', '13,13': 'dw',
            '1,5': 'tl', '1,9': 'tl',
            '5,1': 'tl', '5,5': 'tl', '5,9': 'tl',
            '5,13': 'tl',
            '9,1': 'tl', '9,5': 'tl', '9,9': 'tl', '9,13': 'tl',
            '13,5': 'tl', '13,9': 'tl',
            '0,3': 'dl', '0,11': 'dl',
            '2,6': 'dl', '2,8': 'dl',
            '3,0': 'dl', '3,7': 'dl', '3,14': 'dl',
            '6,2': 'dl', '6,6': 'dl', '6,8': 'dl', '6,12': 'dl',
            '7,3': 'dl', '7,11': 'dl',
            '8,2': 'dl', '8,6': 'dl', '8,8': 'dl', '8,12': 'dl',
            '11,0': 'dl', '11,7': 'dl', '11,14': 'dl',
            '12,6': 'dl', '12,8': 'dl',
            '14,3': 'dl', '14,11': 'dl',
            '7,7': 'star' // Center Star
        };

        // 2D array to store letters on the board (0-indexed, 15x15)
        let boardState = Array(BOARD_SIZE).fill(null).map(() => Array(BOARD_SIZE).fill(''));

        // Column letters for display (A-O)
        const columnLetters = "ABCDEFGHIJKLMNOPQRSTUVWXYZ".split('');

        /**
         * Affiche un message d'erreur.
         * @param {string} message - Le message à afficher.
         */
        function showError(message) {
            errorMessage.textContent = message;
            errorBox.classList.remove('hidden');
        }

        /**
         * Masque le message d'erreur.
         */
        function hideError() {
            errorBox.classList.add('hidden');
        }

        /**
         * Vérifie si un mot peut être formé avec les lettres disponibles, en tenant compte des jokers.
         * Utilisée pour le filtrage initial des mots du dictionnaire qui *pourraient* être formés à partir de la main du joueur.
         * @param {string} word - Le mot à vérifier.
         * @param {string} availableLettersString - La chaîne des lettres disponibles (ex: "abcef*").
         * @returns {boolean} Vrai si le mot peut être formé, faux sinon.
         */
        function canFormWord(word, availableLettersString) {
            let tempLetters = availableLettersString.split('');

            for (let i = 0; i < word.length; i++) {
                const char = word[i];
                const index = tempLetters.indexOf(char);

                if (index !== -1) {
                    tempLetters.splice(index, 1);
                } else {
                    const jokerIndex = tempLetters.indexOf('*');
                    if (jokerIndex !== -1) {
                        tempLetters.splice(jokerIndex, 1);
                    } else {
                        return false;
                    }
                }
            }
            return true;
        }

        /**
         * Trouve l'étendue complète d'un mot (début à fin) sur le plateau temporaire,
         * étant donné une cellule (r,c) à l'intérieur de ce mot et une direction.
         * @param {string[][]} board - L'état temporaire du plateau.
         * @param {number} r - Ligne de la cellule de départ.
         * @param {number} c - Colonne de la cellule de départ.
         * @param {string} direction - 'horizontal' ou 'vertical'.
         * @returns {{startR: number, startC: number, endR: number, endC: number}} L'étendue du mot.
         */
        function findWordExtent(board, r, c, direction) {
            let startR = r, startC = c;
            let endR = r, endC = c;

            // Remonter pour trouver le vrai début du mot
            if (direction === 'horizontal') {
                while (startC > 0 && board[r][startC - 1] !== '') {
                    startC--;
                }
                // Avancer pour trouver la vraie fin du mot
                while (endC < BOARD_SIZE - 1 && board[r][endC + 1] !== '') {
                    endC++;
                }
            } else { // vertical
                while (startR > 0 && board[startR - 1][c] !== '') {
                    startR--;
                }
                while (endR < BOARD_SIZE - 1 && board[endR + 1][c] !== '') {
                    endR++;
                }
            }
            return { startR, startC, endR, endC };
        }

        /**
         * Calcule le score d'un mot sur le plateau, étant donné son étendue et les lettres qui ont été nouvellement placées.
         * Cette fonction auxiliaire calcule le score pour un seul mot (principal ou perpendiculaire).
         * @param {string[][]} board - L'état temporaire du plateau.
         * @param {number} startR - Ligne de départ du mot.
         * @param {number} startC - Colonne de départ du mot.
         * @param {number} endR - Ligne de fin du mot.
         * @param {number} endC - Colonne de fin du mot.
         * @param {string} direction - 'horizontal' ou 'vertical'.
         * @param {Array<object>} lettersPlacedByPlayerThisTurn - Tableau de {r, c, char} pour les lettres nouvellement placées par le joueur à ce tour.
         * @returns {{score: number, word: string, wordMultiplier: number}} Le score, la chaîne du mot et son multiplicateur total de mot.
         */
        function scoreBoardWord(board, startR, startC, endR, endC, direction, lettersPlacedByPlayerThisTurn) {
            let currentWordScore = 0;
            let currentWordMultiplier = 1;
            let wordChars = [];

            for (let i = 0; ; i++) {
                const r = startR + (direction === 'vertical' ? i : 0);
                const c = startC + (direction === 'horizontal' ? i : 0);

                if ( (direction === 'horizontal' && c > endC) || (direction === 'vertical' && r > endR) ) break;

                const charOnBoard = board[r][c].toLowerCase();
                wordChars.push(charOnBoard);

                let letterVal = letterValues[charOnBoard] || 0; // Valeur de base de la lettre

                // Vérifier si cette lettre spécifique sur le plateau a été nouvellement placée par le joueur à ce tour
                const isLetterNewlyPlaced = lettersPlacedByPlayerThisTurn.some(lp => lp.r === r && lp.c === c);
                const squareType = specialSquares[`${r},${c}`];

                if (isLetterNewlyPlaced) {
                    // Appliquer les multiplicateurs de lettre si nouvelle
                    if (squareType === 'dl') letterVal *= 2;
                    if (squareType === 'tl') letterVal *= 3;
                    // Accumuler les multiplicateurs de mot pour CE mot
                    if (squareType === 'dw' || squareType === 'star') currentWordMultiplier *= 2;
                    if (squareType === 'tw') currentWordMultiplier *= 3;
                }
                currentWordScore += letterVal;
            }
            return { score: currentWordScore, word: wordChars.join(''), wordMultiplier: currentWordMultiplier };
        }


        /**
         * Calcule le score complet d'un mouvement potentiel, y compris le mot principal et tous les mots perpendiculaires formés.
         * Effectue également des vérifications de légalité pour le placement.
         * @param {string} word - Le mot principal à placer (en minuscules).
         * @param {number} startRow - Ligne de départ (0-14).
         * @param {number} startCol - Colonne de départ (0-14).
         * @param {string} direction - 'horizontal' ou 'vertical'.
         * @param {string[][]} currentBoardState - L'état actuel du plateau (lettres en majuscules ou '').
         * @param {string} playerHand - Les lettres de la main du joueur (minuscules, avec '*' pour les jokers).
         * @returns {number | null} Score total pour le mouvement, ou null si le placement est invalide.
         */
        function calculateFullMoveScore(word, startRow, startCol, direction, currentBoardState, playerHand) {
            let tempBoard = currentBoardState.map(row => [...row]); // Copie profonde pour la simulation
            let workingHand = playerHand.split(''); // Copie modifiable de la main du joueur

            let lettersPlacedByPlayer = []; // Stocke {r, c, char} pour les lettres *réellement placées de la main*
            let mainWordUsesExistingLetter = false; // Vrai si le mot principal utilise au moins une lettre existante
            let centerStarUsedByNewTile = false; // Vrai si une nouvelle tuile atterrit sur l'étoile centrale

            // Étape 1: Simuler le placement du mot principal et les vérifications de légalité de base
            for (let i = 0; i < word.length; i++) {
                const r = startRow + (direction === 'vertical' ? i : 0);
                const c = startCol + (direction === 'horizontal' ? i : 0);

                if (r < 0 || r >= BOARD_SIZE || c < 0 || c >= BOARD_SIZE) return null; // Hors limites

                const boardChar = tempBoard[r][c].toLowerCase();
                const wordChar = word[i];

                if (boardChar !== '') {
                    // Cellule déjà occupée
                    if (boardChar !== wordChar) return null; // Discordance avec la lettre existante
                    mainWordUsesExistingLetter = true;
                } else {
                    // Cellule est vide, doit utiliser une lettre de la main ou un joker
                    const handIndex = workingHand.indexOf(wordChar);
                    if (handIndex !== -1) {
                        workingHand.splice(handIndex, 1);
                    } else {
                        const jokerIndex = workingHand.indexOf('*');
                        if (jokerIndex !== -1) {
                            workingHand.splice(jokerIndex, 1);
                        } else {
                            return null; // Pas assez de lettres/jokers en main
                        }
                    }
                    tempBoard[r][c] = wordChar.toUpperCase(); // Placer la lettre sur le plateau temporaire
                    lettersPlacedByPlayer.push({ r: r, c: c, char: wordChar });

                    if (r === 7 && c === 7) { // Vérifier l'utilisation de l'étoile centrale par une nouvelle lettre
                        centerStarUsedByNewTile = true;
                    }
                }
            }

            // Après avoir placé le mot principal, effectuer les vérifications de légalité générale du mouvement
            if (lettersPlacedByPlayer.length === 0) return null; // Doit placer au moins une nouvelle tuile

            let boardIsCurrentlyEmpty = currentBoardState.every(row => row.every(cell => cell === ''));

            if (boardIsCurrentlyEmpty) {
                if (!centerStarUsedByNewTile) return null; // Le premier mouvement doit couvrir l'étoile centrale
            } else {
                let connected = mainWordUsesExistingLetter; // Connecté par chevauchement d'une lettre existante
                if (!connected) { // Si pas de chevauchement, vérifier si une lettre nouvellement placée est adjacente à une existante
                    for (const { r, c } of lettersPlacedByPlayer) {
                        const neighbors = [[r - 1, c], [r + 1, c], [r, c - 1], [r, c + 1]];
                        for (const [nr, nc] of neighbors) {
                            if (nr >= 0 && nr < BOARD_SIZE && nc >= 0 && nc < BOARD_SIZE && currentBoardState[nr][nc] !== '') {
                                connected = true;
                                break;
                            }
                        }
                        if (connected) break;
                    }
                }
                if (!connected) return null; // Doit se connecter aux tuiles existantes si le plateau n'est pas vide
            }


            // Étape 2: Valider et scorer tous les mots formés par ce placement (principal et perpendiculaires)
            let totalScore = 0;

            // Scorer le mot principal
            const { startR: mainStartR, startC: mainStartC, endR: mainEndR, endC: mainEndC } = findWordExtent(tempBoard, startRow, startCol, direction);
            const mainWordScored = scoreBoardWord(tempBoard, mainStartR, mainStartC, mainEndR, mainEndC, direction, lettersPlacedByPlayer);

            // Valider le mot principal
            if (!frenchDictionary.includes(mainWordScored.word)) {
                return null;
            }
            totalScore += mainWordScored.score;


            // Scorer les mots perpendiculaires pour chaque lettre nouvellement placée
            for (const { r, c } of lettersPlacedByPlayer) { // Itérer uniquement sur les lettres nouvellement placées
                const perpDirection = direction === 'horizontal' ? 'vertical' : 'horizontal';

                // Trouver l'étendue complète du mot perpendiculaire formé par cette nouvelle lettre
                const { startR: perpStartR, startC: perpStartC, endR: perpEndR, endC: perpEndC } = findWordExtent(tempBoard, r, c, perpDirection);

                const perpLength = (perpDirection === 'horizontal' ? (perpEndC - perpStartC + 1) : (perpEndR - perpStartR + 1));

                // Ne considérer que les mots perpendiculaires réels (longueur > 1)
                if (perpLength > 1) {
                    const perpWordScored = scoreBoardWord(tempBoard, perpStartR, perpStartC, perpEndR, perpEndC, perpDirection, lettersPlacedByPlayer);

                    // Valider le mot perpendiculaire par rapport au dictionnaire
                    if (!frenchDictionary.includes(perpWordScored.word)) {
                        return null; // Le mouvement entier est invalide si un mot perpendiculaire est invalide
                    }
                    totalScore += perpWordScored.score;
                }
            }

            // Appliquer le multiplicateur de mot global du mot principal au total général de tous les mots formés
            totalScore *= mainWordScored.wordMultiplier;

            // Bonus de 50 points si 7 lettres de la main sont utilisées (Scrabble/Bingo)
            if (lettersPlacedByPlayer.length === 7) {
                totalScore += 50;
            }

            return totalScore;
        }


        /**
         * Initialise le plateau de Scrabble dans le DOM avec les en-têtes numérotés.
         */
        function initializeBoard() {
            scrabbleBoardDiv.innerHTML = ''; // Effacer le plateau existant
            // Créer les cellules d'en-tête (ligne 0 et colonne 0)
            for (let i = 0; i <= BOARD_SIZE; i++) {
                for (let j = 0; j <= BOARD_SIZE; j++) {
                    const cell = document.createElement('div');
                    if (i === 0 && j === 0) {
                        cell.className = 'header-cell'; // Coin vide en haut à gauche
                    } else if (i === 0) {
                        cell.className = 'header-cell';
                        cell.textContent = columnLetters[j - 1]; // En-têtes de colonne (A, B, C...)
                    } else if (j === 0) {
                        cell.className = 'header-cell';
                        cell.textContent = i; // En-têtes de ligne (1, 2, 3...)
                    } else {
                        // Cellule de jeu normale
                        const row = i - 1; // Ajustement pour le tableau boardState (0-indexé)
                        const col = j - 1;

                        cell.dataset.row = row;
                        cell.dataset.col = col;
                        const squareType = specialSquares[`${row},${col}`] || 'normal';
                        cell.className = `board-cell ${squareType}`;

                        const input = document.createElement('input');
                        input.type = 'text';
                        input.maxLength = 1;
                        input.value = boardState[row][col];
                        input.oninput = (e) => {
                            e.target.value = e.target.value.toUpperCase().replace(/[^A-Z]/g, '');
                            boardState[row][col] = e.target.value;
                            if (e.target.value) {
                                cell.classList.add('has-letter');
                            } else {
                                cell.classList.remove('has-letter');
                            }
                            clearHighlights(); // Efface le surlignage quand le plateau est modifié
                        };
                        if (boardState[row][col]) {
                            cell.classList.add('has-letter');
                        }
                        cell.appendChild(input);
                    }
                    scrabbleBoardDiv.appendChild(cell);
                }
            }
        }

        /**
         * Efface toutes les lettres du plateau et réinitialise l'affichage.
         */
        function clearBoard() {
            boardState = Array(BOARD_SIZE).fill(null).map(() => Array(BOARD_SIZE).fill(''));
            initializeBoard(); // Réinitialise le plateau visuellement
            clearHighlights(); // S'assure que tout surlignage est retiré
        }

        /**
         * Applique le surlignage vert au meilleur mot trouvé sur le plateau.
         * @param {object} placement - L'objet du meilleur placement ({ word, startRow, startCol, direction }).
         */
        function applyHighlightToBoard(placement) {
            clearHighlights(); // D'abord, retirer tout surlignage précédent

            const { word, startRow, startCol, direction } = placement;

            for (let i = 0; i < word.length; i++) {
                const r = startRow + (direction === 'vertical' ? i : 0);
                const c = startCol + (direction === 'horizontal' ? i : 0);

                // Trouver la cellule DOM correspondante (index ajusté pour les en-têtes)
                const cellElement = scrabbleBoardDiv.children[(r + 1) * (BOARD_SIZE + 1) + (c + 1)];
                if (cellElement) {
                    cellElement.classList.add('highlight-best-word');
                }
            }
        }

        /**
         * Retire tout surlignage du plateau.
         */
        function clearHighlights() {
            document.querySelectorAll('.highlight-best-word').forEach(cell => {
                cell.classList.remove('highlight-best-word');
            });
        }


        /**
         * Fonction principale pour trouver les mots et leurs placements optimaux.
         */
        findWordsBtn.addEventListener('click', async () => {
            hideError();
            clearHighlights(); // Toujours effacer les surlignages au début d'une nouvelle recherche
            const inputLetters = lettersInput.value.trim();

            if (inputLetters.length === 0) {
                showError("Veuillez entrer au moins une lettre ou un joker dans votre main.");
                resultsDiv.innerHTML = '<p class="text-center text-gray-500">Les suggestions de placement et de score apparaîtront ici.</p>';
                return;
            }

            loadingDiv.classList.remove('hidden');
            loadingMessageSpan.textContent = "Recherche des mots possibles à partir de votre main...";
            resultsDiv.innerHTML = '';
            findWordsBtn.disabled = true;
            lettersInput.disabled = true;

            const allPossibleWordsFromHand = [];

            // Étape 1: Trouver tous les mots valides que l'on peut former UNIQUEMENT avec les lettres de la main
            await new Promise(resolve => setTimeout(() => {
                for (let word of frenchDictionary) {
                    // Vérifie que le mot peut être formé avec les lettres de la main et qu'il est de longueur Scrabble valide
                    // La main d'un joueur au Scrabble a généralement 7 lettres.
                    if (word.length >= 2 && word.length <= 7 && canFormWord(word, inputLetters)) {
                        allPossibleWordsFromHand.push(word);
                    }
                }
                resolve();
            }, 50)); // Petite pause pour l'UI

            loadingMessageSpan.textContent = `Simulation de ${allPossibleWordsFromHand.length} mots sur le plateau...`;

            const bestPlacements = [];

            // Étape 2: Pour chaque mot trouvé, simuler son placement à toutes les positions possibles
            // et calculer le score potentiel, y compris la validation des mots perpendiculaires
            await new Promise(resolve => setTimeout(() => {
                const directions = ['horizontal', 'vertical'];

                for (const word of allPossibleWordsFromHand) {
                    for (let r = 0; r < BOARD_SIZE; r++) { // Ligne de départ
                        for (let c = 0; c < BOARD_SIZE; c++) { // Colonne de départ
                            for (const direction of directions) {
                                // calculateFullMoveScore retournera null si une règle est violée (ex: mot perp. invalide)
                                const totalMoveScore = calculateFullMoveScore(word, r, c, direction, boardState, inputLetters);
                                if (totalMoveScore !== null) {
                                    bestPlacements.push({
                                        word: word,
                                        score: totalMoveScore,
                                        startRow: r,
                                        startCol: c,
                                        direction: direction
                                    });
                                }
                            }
                        }
                    }
                }
                resolve();
            }, 50)); // Petite pause pour l'UI

            // Étape 3: Trier les placements par score (décroissant)
            bestPlacements.sort((a, b) => b.score - a.score);

            loadingDiv.classList.add('hidden');
            findWordsBtn.disabled = false;
            lettersInput.disabled = false;

            if (bestPlacements.length > 0) {
                const ul = document.createElement('ul');
                ul.className = 'list-disc list-inside text-left space-y-1';
                // Limiter l'affichage aux 50 meilleurs placements pour éviter l'encombrement
                const displayLimit = Math.min(bestPlacements.length, 50);
                for (let i = 0; i < displayLimit; i++) {
                    const item = bestPlacements[i];
                    const li = document.createElement('li');
                    const directionText = item.direction === 'horizontal' ? 'HORIZ' : 'VERT';
                    // Convertir les coordonnées 0-indexées en 1-indexées pour l'affichage
                    const displayRow = item.startRow + 1;
                    const displayColLetter = columnLetters[item.startCol];
                    li.innerHTML = `<span class="font-bold text-blue-700">${item.word.toUpperCase()}</span> - <span class="font-extrabold text-green-700">${item.score}</span> points <br> (<span class="text-gray-600">Position: ${displayColLetter}${displayRow} | Direction: ${directionText}</span>)`;
                    ul.appendChild(li);
                }
                resultsDiv.appendChild(ul);

                if (bestPlacements.length > displayLimit) {
                    const moreText = document.createElement('p');
                    moreText.className = 'text-center text-gray-500 mt-2 text-sm';
                    moreText.textContent = `... et ${bestPlacements.length - displayLimit} autres placements.`;
                    resultsDiv.appendChild(moreText);
                }

                // Surligner le meilleur mot sur le plateau
                applyHighlightToBoard(bestPlacements[0]);
            } else {
                resultsDiv.innerHTML = '<p class="text-center text-gray-500">Aucun placement valide trouvé avec vos lettres sur le plateau actuel.</p>';
            }
        });

        // Permet de déclencher la recherche avec la touche Entrée
        lettersInput.addEventListener('keypress', (event) => {
            if (event.key === 'Enter') {
                findWordsBtn.click();
            }
        });

        // Événement pour le bouton "Effacer le plateau"
        clearBoardBtn.addEventListener('click', clearBoard);

        // Initialisation du plateau au chargement de la page
        document.addEventListener('DOMContentLoaded', () => {
            initializeBoard();
        });
    </script>
</body>
</html>
